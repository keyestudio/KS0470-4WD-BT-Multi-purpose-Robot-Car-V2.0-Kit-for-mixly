# **KS0470 4WD BT Multi-purpose Smart Car V2.0 Kit Mixly tutorial**

![](media/9d69921bdd194725ffc6e00596643ea9.png)

## 1. Introduction

Nowadays, technological education such as VR, kids programming, and artificial
intelligence, has become mainstream in educational industry. Thereby, people
attach importance to STEAM education.

The 4WD multi-purpose robot car, newly upgraded by the Keyes team, is one of the
most favoured programming robots.

It is not only beautiful in appearance, but also powerful in function. In
addition to the common function like line tracking, obstacle avoidance and
remote control, etc.

15 learning projects, from simple to complex, will guide you how to make a smart
4wd robot on you own and introduce the detailed knowledge about sensors and
modules.

Simultaneously, it is the best choice if you intend to obtain a DIY robot for
learning programming, entertainment and competition requirement.

**Note: The experiment you did should be in line with wiring diagram, including
about components and wiring method. For example, we supply power with external
power in the hook-up diagram, so you also have to use external power rather than
USB cable .**

## 2. Features

1. Multi-purpose function: Obstacle avoidance, follow, IR remote control,
    Bluetooth control, ultrasonic follow and displayed face emoticons.

2. Simple assembly: No soldering circuit required, complete assembly easily.

3. High Tenacity: Aluminum alloy bracket, metal motors, high quality wheels and
tracks

4. High extension: expand other sensors and modules through motor driver shield
and sensor shield

5. Multiple controls: IR remote control, App control(IOS and Android system)

6. Basic programming：Mixly programming.

## 3. Specification

Working voltage: 5v

Input voltage: 7-12V

Maximum output current: 2A

Maximum power dissipation: 25W (T=75℃)

Motor speed: 5V 200 rpm/min

Motor drive mode: dual H bridge drive

Ultrasonic induction angle: \<15 degrees

Ultrasonic detection distance: 2cm-400cm

Infrared remote control distance: 10 meters (measured)

Bluetooth remote control distance: 50 meters (measured)

Bluetooth control: support Android and iOS system

## 4. Product List

| No | Name                                     | QTY |                  Picture                       |
|----|------------------------------------------|-----|------------------------------------------------|
| 1  | Keyestudio V4.0 Board                    | 1   | ![](media/d48e310dbb7f60760a02fbd88c17d97a.png)|
| 2  | Keyestudio Motor Driver Shield| 1        |     | ![](media/93521a0a4605adc2b9281fa7b7d04ed7.png)|
| 3  | Keyestudio HM-10 Bluetooth-4.0           | 1   | ![](media/dd96bc6b421d7e5d90c5d6bba17792b1.png)|
| 4  | Red LED Module                           | 1   | ![](media/9ac3c56be4e52c0623161ba8e4587ea1.png)|
| 5  | HC-SR04 Ultrasonic Sensor                | 1   | ![](media/8b0ad8e263bcb737b26ada117df09ecc.png)|
| 6  | Keyestudio Line Tracking Sensor          | 1   | ![](media/e7da5f48ae919f1f1753d8e8e76efff2.png)|
| 7  | Keyestudio IR Receiver Sensor            | 1   | ![](media/0f924b1c78d9cc8060f3c6852453535b.png)|
| 8  | Keyestudio 8\*16 LED  Dot Matrix         | 1   | ![](media/3af9611e13767b37b476ba8f739ae473.jpeg)|
|    |  4pinDupont Line                         |     |                                                |
| 9  | Keyestudio 9G Servo                      | 1   | ![](media/77f3347d5a1c38f2dc5de72175eb9e47.png)|
| 10 | Keyestudio Remote Control                | 1   | ![](media/1cb7f343e485d1d92e6dc9b49c2216c6.png)|
| 11 | USB Cable                                | 1   | ![](media/ae4255fe8683fbb2e083c83b98385707.png)|
| 12 | 18650 Battery Holder                     | 1   | ![](media/8379a88fb269abe60cd0ad4dcb052865.png)|
| 13 | 6 AA Battery Holder                      | 1   | ![](media/f7ec53e22f42b997a091e0ecb449f174.png)|
| 14 | Servo Platform                           | 1   | ![](media/74067fcc6690270d218a4f80e8b1c440.png)|
| 15 | 15CM F-F 5P 24AWG Dupont Wire            | 1   | ![](media/1c9f1cbb4758ce5b6a2476f6bd11bbd9.png)|
| 16 | 8cm F-F 3P 24AWG  Dupont Wire            | 1   | ![](media/2b85ad6d4c8ce57776917db066e92176.png)|
| 17 | 4P to 1P Female  DuPont Wire             | 1   | ![](media/a101e1a54334970d4ed17fdb00bf0efb.png)|
| 18 | Acrylic Board                            | 1   | ![](media/9c27a4cf322fa28124af2828ef711273.png)|
| 19 | Keyestudio 4WD Smart Car V2.0 Top Board  | 1   | ![](media/2fb841793bcccf3bc2d5a0c1103d62dc.png)|
| 20 | Keyestudio 4WD Smart Car V2.0 Bottom PCB | 1   | ![](media/782fca2e92c4c94957e7e94513365d02.png)|
| 21 | Fixed Parts                              | 4   | ![](media/31da46b304fa5546d457f444e6f24a95.png)|
| 22 | Wheel                                    | 4   |  ![](media/de153b270a2635a082af13f6c530aac2.png)|
| 23 | M3\*10MM Dual-pass  Copper Bush          | 10  | ![](media/792d8043677d2c3fe52bf52d87623734.png)|
| 24 | M3\*40MM Dual-pass  Copper Bush          | 4   | ![](media/484d02a86e672277bf844de19f99d952.png)|
| 25 | M3\*30MM Round Head Screws               | 8   | ![](media/80af09d425cfdc4788c441042c553346.png)|
| 26 | M3\*6MM Round Head Screws                | 40  | ![](media/05a777927510346c0201f5fdfec45bda.png) |
| 27 | M3 Nickel Plated Nuts                    | 16  | ![](media/3665fc5a77e96330bd56e9e00dda8c93.png)|
| 28 | M2X8MM Round Head Screws                 | 6   | ![](media/36abc1252edb2c3b025a3b6169eb55cf.png)|
| 29 | M3\*8MM Round Head Screws                | 4   | ![](media/2f7b5616f43002e2903a3e7eec952bfa.png)|
| 30 | M2 Nickel Plated Nuts                    | 6   | ![](media/350883d58fb992c8eacd3ce8aad07976.png)|
| 31 | M3\*10MM Flat Screws                     | 3   | ![](media/2b3cb9d8641675d829315e14c653be59.png)|
| 32 |  Motor (with welding wire)               | 4   | ![](media/e3da11c3b300de4832244417c4c5742a.png)|
| 33 | 3\*40MM Screwdriver                      | 1   | ![](media/6f607f8a0a22498bb852e087daecb0e3.png)|
| 34 | Black Nylon Ties 3\*100MM                | 6   | ![](media/c22c1a490f3363434fd8bf89f8548a43.png)|
| 35 |  Winding Pipe                            | 1   | ![](media/788270753c70f082e38bf81533d62930.png)|
| 36 | 3Pin F-F Dupont Wire (20CM)              | 3   | ![](media/be2a3616b359252f404e044020057833.png)|
| 37 | Decorative Board                         |     | ![](media/0bc4857c242851f3abcef83bc854bf22.png)|


## 5.Install Mixly Software and Driver

1.  **Download and Install Mixly**

Description

Mixly is a free open-source graphical Arduino programming software, based on
Google’s Blockly graphical programming framework, and developed by Mixly Team@
BNU.

It is a complete support ecosystem for creative e-education, a stage for maker
educators to realize their dreams.

② Download Mixly1.0

Windows System：<https://fs.keyestudio.com/Mixly1-Windows>

MACOS System：<https://fs.keyestudio.com/Mixly1-MACOS>

We will take Mixly1.0 (Windows version) as example, and the installation method
of MAC version is similar with it.

You will get installation package after downloading. As shown below:

![](media/2c120c5b3e52fbec94b62b48a016a4d5.png)

Unzip the package, you will see “Mixly 1.0 for keyestudio.exe”

![](media/f8201facff78d06aad9ced9f5fe65e0f.png)

Double-click ![](media/8ec85e7035e6acc2271635f7c03dfc8e.png)”Mixly 1.0 for
keyestudio.exe”, the following interface pops up.

![](media/3b4de4ee8a8535e2e316c38e4c95e28f.png)

We have to choose correct Arduino development board and name, as shown below:

![](media/afbba18511c277cd0cf580353d22ac7f.png)

Select correct COM port(the corresponding port will be shown after installing
driver successfully)

![](media/cf570d717ad63f4d9c1793dcdbd65254.png)

You have to know the function of every area and interface on Mixly software
before uploading program on Arduino development board

![](media/c3360c388c06334c2d06c168763a3bed.png)

![](media/c09dc67b6729cab1451932399afcbde6.png)

1.  **Keyestudio V4.0 Development Board**

We need to know keyestudio V4.0 development board, as a core of this smart car.

![](media/d48e310dbb7f60760a02fbd88c17d97a.png)

Keyestudio V4.0 development board is an Arduino uno -compatible board, which is
based on ATmega328P MCU, and with a cp2102 Chip as a UART-to-USB converter.

![](media/308315eef3c603cdf0e8babfc4d9c297.jpeg)

It has 14 digital input/output pins (of which 6 can be used as PWM outputs), 6
analog inputs, a 16 MHz quartz crystal, a USB connection, a power jack, 2 ICSP
headers and a reset button.

![](media/95bcb6f3d82a26fd7286459f2e5dd2e6.jpeg)

It contains everything needed to support the microcontroller; simply connect it
to a computer with a USB cable or power it via an external DC power jack (DC
7-12V) or via female headers Vin/ GND(DC 7-12V) to get started.

| Microcontroller             | ATmega328P-PU                                            |
|-----------------------------|----------------------------------------------------------|
| Operating Voltage           | 5V                                                       |
| Input Voltage (recommended) | DC7-12V                                                  |
| Digital I/O Pins            | 14 (D0-D13)  (of which 6 provide PWM output)             |
| PWM Digital I/O Pins        | 6 (D3, D5, D6, D9, D10, D11)                             |
| Analog Input Pins           | 6 (A0-A5)                                                |
| DC Current per I/O Pin      | 20 mA                                                    |
| DC Current for 3.3V Pin     | 50 mA                                                    |
| Flash Memory                | 32 KB (ATmega328P-PU) of which 0.5 KB used by bootloader |
| SRAM                        | 2 KB (ATmega328P-PU)                                     |
| EEPROM                      | 1 KB (ATmega328P-PU)                                     |
| Clock Speed                 | 16 MHz                                                   |
| LED_BUILTIN                 | D13                                                      |

1.  **Installing V4.0 board Driver**

Let’s install the driver of keyestudio V4.0 board. The USB-TTL chip on V4.0
board adopts CP2102 serial chip. The driver program of this chip is included in
Arduino 1.8 version and above, which is convenient. Plug on USB port of board,
the computer can recognize the hardware and automatically install the driver of
CP2102.

![](media/5a7574db1405f5759eaa51fd01ac45bc.png)

If install unsuccessfully, or you intend to install manually, open the device
manager of computer. Right click Computer----- Properties----- Device Manager




![](media/afa5b0dde9342bd7ad9f385333cb6f55.png)

There is a yellow exclamation mark on the page, which implies installing
unsuccessfully. Then we double click the hardware and update the driver.

![](media/c26ca0ef1bf1506c815b6e3e239cf525.png)

Click “OK” to enter the following page, click “browse my computer for updated
driver software”, find out the installed or downloaded ARDUINO software. As
shown below:

![](media/4ec7a5ea3c8a1fd9663eef4768b687c5.png)

There is a DRIVERS folder in Arduino software installed
package![](media/f50a31a59716594afbd7c2254cfd521e.png), open driver folder
and you can see the driver of CP210X series chips.

![](media/a2f8e587a4621983a0664292865b92e8.png)
![](media/6b2096635947dee069104f6032b6fd15.png)
![](media/f4b45a57d6b1e965d611b14915e7b440.png)

We click “Browse”, then find out the driver folder, or you could enter “driver”
to search in rectangular box, then click “next”, the driver will be installed
successfully. (I place Arduino software folder on the desktop, you could follow
my way)

![](media/417de936fa9720c7a7427c4d07718292.png)

Open device manager, we will find the yellow exclamation mark disappear. The
driver of CP2102 is installed successfully.

![](media/efce0ba96c48d853f302730b4d481ee9.jpeg)

![](media/2f751d5f4e4c0c18fa862c589eaaf0da.jpeg)

1.  **Start the first program**

Click “Open”→ sample → arduino→ Arduino → 01 IN-OUT→01-LED Blink.mix

![](media/b8191b5c11060a48ca25c2d605a57183.png)

The corresponding board and COM port will be shown after setting board and COM
port.

![](media/c6ae6346cfadc1500c91cd9096b835a1.png)

Click **Compile** to start compiling the program, check errors.

![](media/3cc4f50c5a62d3356fc0c5cc9af85643.png)

Click **Upload** to upload the program, upload successfully.

![](media/f01375e7ffb9caa13906b04ec77ed381.png)

After uploading the program successfully, the onboard LED lights up for 1s,
lights off for 1s. Congratulation, you finish the first program.

## 6.Projects:

![](media/bbafde79f8909da728d42983e722b9e5.jpeg)

The whole project begins with basic program. Starting from simple to complex,
the lessons will guide you to assemble robot car and absorb the knowledge of
electronic and machinery step by step. I reckon that you could hardly sit still
and itch to have a go, let’s get started.

**If you want to go directly to the step of installing the robot, please click this link**

[assembly-guide](https://ks0470-4wd-bt-multi-purpose-robot-car-v20-kit-for-mixly.readthedocs.io/en/latest/KS0470_Mixly.html#assembly-guide)

Note: (G), marked on each sensor and module, implies negative pole, which is
connected to “G”, ”-”or “GND”on the sensor shield and control board ; (V)
represents positive pole, which is linked with V , VCC, + or 5V on the sensor
shield and control board.

### Project 1: LED Blink

![](media/4c5aa10c3eda7ed4c970b514f5d08da4.png)

1.  **Description**

For the starter and enthusiast, this is a fundamental program---LED Blink.

LED, the abbreviation of light emitting diodes, consist of Ga, As, P, N chemical
compound and so on. The LED can flash diverse color by altering the delay time
in the test code. When in control, power on GND and VCC, the LED will be on if S
end is high level; nevertheless, it will go off.

1.  **Specification**

Control interface: digital port

Working voltage: DC 3.3-5V

Pin spacing: 2.54mm

LED display color: red

**(3) Components**

![](media/952cbf49060dad4a05da705da80be611.png)

**(4) Wiring Diagram**

![](media/bd05816bd2764b18d9315fc2e6405a0f.png)

The expansion board is stacked on development board, - of LED module is
connected to G of shield, “+”is linked with 5V, S end is attached to D3.

1.  **Test Code：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                               | File Name            |
|-----------|-----------------------------------------------------|----------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_1_LED Blink | lesson_1.1_LED Blink |

You could edit code step by step as follows:

1.  Enter “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Click “Sensor” →
    “ControlOutput”→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)，and combine
    it with block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，

3.  S end of red LED is connected D3 of sensor shield, click the drop-down
    triangle button to set PIN 3 and LOW.

![](media/4019c226046e1d8b65d3108a37f0bb2b.png)
![](media/d7b6332995d5eddda8b2a31649c45575.png)

1.  ![](media/4019c226046e1d8b65d3108a37f0bb2b.png)Copy
    block![](media/ba6645d70fc568d2577ddcb1f57b1674.png)once，and set to HIGH

![](media/4019c226046e1d8b65d3108a37f0bb2b.png)
![](media/f228e88c3c17ec0689263e25b2730862.png)

1.  Click “Control” to drag out
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)

![](media/4019c226046e1d8b65d3108a37f0bb2b.png)
![](media/453c94f7e4233a5d41a03c492ee964e3.png)

1.  ![](media/4019c226046e1d8b65d3108a37f0bb2b.png)Duplicate code
    string![](media/453c94f7e4233a5d41a03c492ee964e3.png)once，and set to LOW.

![](media/4019c226046e1d8b65d3108a37f0bb2b.png)
![](media/e84d458deedc9a4cd80e431c94bed9ac.png)

Complete Program：

![](media/80faae9785a593b73ef49d74661f3dda.png)


**(6) Test Result：**

Upload the program, LED flickers with the interval of 1s.

1.  **Extension Practice：**

We succeed to blink LED. Next, let’s observe what LED will change if we modify
pins and delay time.

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                               | File Name                     |
|-----------|-----------------------------------------------------|-------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_2_LED blink | lesson_1.2_Extension Practice |

You could edit code step by step as follows:

Complete Program：

![](media/49ea73acc2b4b74641c4b5cc90f53462.png)

The LED flickers faster through the test result, therefore, pins and delay time
affect flash frequency.

### Project 2: Adjust LED Brightness

1.  **Description**

In previous lesson, we control LED on and off and make it blink.

In this project, we will control LED brightness through PWM to simulate
breathing effect. Similarly, you can change the step length and delay time in
the code so as to demonstrate different breathing effect.

PWM is a means of controlling the analog output via digital means. Digital
control is used to generate square waves with different duty cycles (a signal
that constantly switches between high and low levels) to control the analog
output.In general, the input voltage of port are 0V and 5V. What if the 3V is
required? Or what if switch among 1V, 3V and 3.5V? We can’t change resistor
constantly. For this situation, we need to control by PWM.

![](media/bbcfcb9ae56abb7e80ee587246fc4be9.GIF)

For the Arduino digital port voltage output, there are only LOW and HIGH, which
correspond to the voltage output of 0V and 5V. You can define LOW as 0 and HIGH
as 1, and let the Arduino output five hundred 0 or 1 signals within 1 second.

If output five hundred 1, that is 5V; if all of which is 1, that is 0V. If
output 010101010101 in this way then the output port is 2.5V, which is like
showing movie. The movie we watch are not completely continuous. It actually
outputs 25 pictures per second. In this case, the human can’t tell it, neither
does PWM. If want different voltage, need to control the ratio of 0 and 1. The
more 0,1 signals output per unit time, the more accurately control.

PWM is a technology to obtain analog quantity through digital method. Digital
control forms a square wave, and the square wave signal only has two states of
turning on and off (that is, high or low levels). By controlling the ratio of
the duration of turning on and off, a voltage varying from 0 to 5V can be
simulated. The time turning on(academically referred to as high level) is called
pulse width, so PWM is also called pulse width modulation.

Through the following five square waves, let’s acknowledge more about PWM.

![](media/553f3d1b6ca04e1aa0479841dd075fa2.png)

In the above figure, the green line represents a period, and value of
analogWrite() corresponds to a percentage which is called Duty Cycle as well.
Duty cycle implies that high-level duration is divided by low-level duration in
a cycle. From top to bottom, the duty cycle of first square wave is 0% and its
corresponding value is 0. The LED brightness is lowest, that is, turn off. The
more time high level lasts, the brighter the LED. Therefore, the last duty cycle
is 100%, which correspond to 255, LED is brightest. 25% means darker.

PWM mostly is used for adjusting the LED brightness or rotation speed of motor.

It plays vital role in controlling smart robot car. I believe that you can’t
wait to enter next project.

**(2) Components**

![](media/952cbf49060dad4a05da705da80be611.png)

![](media/bd05816bd2764b18d9315fc2e6405a0f.png)

**(3) Test Code：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                           | File Name                        |
|-----------|-----------------------------------------------------------------|----------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_2_Adjust LED Brightness | lesson_2.1_Adjust LED Brightness |

You could edit code step by step as follows:

1.  Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Go
    to“sensor”→“ControlOutput”→![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，

3.  Red LED is connected to D3, so set to PIN 3 and LOW

![](media/b1825ecc343c0cadd3a1bff99ca565e9.png)
![](media/d7b6332995d5eddda8b2a31649c45575.png)

(4) Enter“Control”to get
block![](media/d551cec2b04e244ba508705b13925c97.png)，set block:
![](media/ed65220e4e5a60e70a5ce4ba2f2d0bb0.png)

![](media/5514f55944f9af479a6a016590260864.png)(5) Enter “In/Out” to get
block![](media/a17197d6cd3de5fb2e3c6dc673a02f4d.png)，

(6) Click “Variables” to move
block![](media/fdc785cb5f7ddb9b3fdf361771904d09.png)into 0 box behind value.

![](media/5514f55944f9af479a6a016590260864.png)
![](media/b03cc4790571f51421f722bf555ba5e0.png)

(7) Click ”Control”to move
block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)into
block![](media/ed65220e4e5a60e70a5ce4ba2f2d0bb0.png)，delay in 5ms.

![](media/5514f55944f9af479a6a016590260864.png)
![](media/b41877c31dd7b2a8a3f790483de1e100.png)

1.  ![](media/5514f55944f9af479a6a016590260864.png)Copy code
    string![](media/b41877c31dd7b2a8a3f790483de1e100.png)once，set code
    ![](media/5514f55944f9af479a6a016590260864.png)string
    as follows: ![](media/ab6b2941492e44a37f7b99a09b5c1ee6.png)

Complete Program：

![](media/3e4801e246585aa58dfafda5f25a35c7.png)

1.  **Test Result：**

Upload test code successfully, LED gradually becomes brighter then darker, like
human breath, rather than light on and off immediately.

1.  **Extension Practice：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                            | File Name                      |
|-----------|------------------------------------------------------------------|--------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_2_Adjust LED Brightness  | lesson_2.2_Extension Practice  |

You could edit code step by step as follows:

Complete Program：

![](media/802ce0d48b35cb64f18205ae11d61754.png)

Upload code on the development board and the time interval of LED getting dark
is longer.

### Project 3: Line Tracking Sensor

**(1) Description：**

![](media/d37c24e508361ab86b019135ab6950a9.png)The tracking sensor is
actually an infrared sensor. The component used here is the TCRT5000 infrared
tube.

Its working principle is to use the different reflectivity of infrared light to
the color, then convert the strength of the reflected signal into a current
signal.

During the process of detection, black is active at HIGH level, but white is
active at LOW level. The detection height is 0-3 cm.

Keyestudio 3-channel line tracking module has integrated 3 sets of TCRT5000
infrared tube on a single board, which is more convenient for wiring and
control.

By rotating the adjustable potentiometer on the sensor, it can adjust the
detection sensitivity of the sensor.

**(2) Specification：**

![](media/0b3433af5abda1ab4137e2c078e4b8e7.jpeg)

-   Operating Voltage: 3.3-5V (DC)

-   Interface: 5PIN

-   Output Signal: Digital signal

-   Detection Height: 0-3 cm

Special note: before testing, turn the potentiometer on the sensor to adjust the
detection sensitivity. When adjust the LED at the threshold between ON and OFF,
the sensitivity is the best.

1.  **Equipment：**

![](media/1200fbff754cdce0fe43ecf77fae640f.png)

1.  **Connection Diagram：**

![](media/352a7a13f9a8c3ea706bb2a01932d4b4.png)

1.  **Test Code：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                          | File Name                       |
|-----------|----------------------------------------------------------------|---------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_3_Line Tracking Sensor | lesson_3.1_Line Tracking Sensor |

You could edit code step by step as follows:

1.  Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter “Serial port” to move
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block.

![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Go to “Variables” to move![](media/1ae07a66a021f66804a4db9141d3e6f5.png)into
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)for three times；then enter
“Math” to drag block ![](media/0171c9b9d68df2b854ebded805ca3371.png)and copy it
for 3 times.

(4) Combine![](media/0171c9b9d68df2b854ebded805ca3371.png) with
![](media/1ae07a66a021f66804a4db9141d3e6f5.png)block, and separately set to
val_L, val_M and val_R.

![](media/30065ea3ea3f61f3466205d9af84a4c9.png)

(5) Enter “Variables” to move out
block![](media/4d36fd0b35d9982289a193bd291a1d7c.png)，

1.  Go to “Sensor” → “DigitalRead”
    →![](media/eab5fe2561c4d55749e7183e40617b1a.png)

2.  Integrate
    block![](media/eab5fe2561c4d55749e7183e40617b1a.png)block.

3.  The line tracking sensor is linked with D6, so set to PIN 11.

4.  ![](media/8f94857e3f31abc535003e96aa9d7406.png)Replicate
    block![](media/be9d0c8f176a84ffc394eb32e2fed825.png)twice，and separately
    change val_L into val_M and val_R;

5.  The tracking sensor is also connected to D7 and D8, therefore, set to PIN 7
    and PIN 8

![](media/8f94857e3f31abc535003e96aa9d7406.png)
![](media/d2169e7c7ea5729ebadbb291f128feee.png)

1.  Click “Serial Port”to drag out
    block![](media/7f8422c9a75e8f402b51c2a003d319d9.png)，and go to “Text” to
    move block![](media/3b18dc31f0ae89a9f3149c9ef027724b.png)into
    block![](media/7f8422c9a75e8f402b51c2a003d319d9.png)，

2.  Change hello into
    left：![](media/45fb5a0f82ce8c4646eac9f23a903cd5.png)

3.  Copy block![](media/7f8422c9a75e8f402b51c2a003d319d9.png)again，and
    enter“Variables”to move
    block![](media/7f8422c9a75e8f402b51c2a003d319d9.png).

4.  Replicate code ![](media/45fb5a0f82ce8c4646eac9f23a903cd5.png)once and
    delete left：， as shown below:

![](media/8f94857e3f31abc535003e96aa9d7406.png)
![](media/bbe38ba8aa5623b89a3cf06037c937a3.png)

1.  Duplicate code
    string![](media/5c50121d1aacb9a9803beb1ac0108b58.png)once，and change
    left：into middle : , val_L into val_M.

2.  Copy block![](media/99f846a695d03cfb2b8aeaa095ea5a51.png)，and alter
    left：into right：

3.  Go to“Serial Port”to drag
    out![](media/b1f7f1d1c2b65b3ebe359a9e8181ed46.png)block ，and enter
    “Variables” to drag ![](media/4a9a477e92174ae4c461fc7d73c09184.png)into
    block![](media/b1f7f1d1c2b65b3ebe359a9e8181ed46.png).

![](media/8f94857e3f31abc535003e96aa9d7406.png)
![](media/0b66d9a66fbc63fce7de2788128a3802.png)

1.  Enter “Control” to get block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png),
    and delay in 500ms.

![](media/8f94857e3f31abc535003e96aa9d7406.png)
![](media/5f55b5c17b4b6fc8d47de7a47ad5fdb8.png)

Complete Program：

![](media/8992b795ca8e85a1c07b712a9cb44bca.png)


1.  **Test Result：**

Upload the code on development board, open serial monitor to check line tracking
sensors. And the displayed value is 1(high level) when no signals are received.
The value becomes int o 0 when covering sensor with paper.

![](media/2fd58c7a9f95fb9f694edf03e755042f.png)

1.  **Extension Practice：**

After knowing its working principle, connect an LED to D9. We could control LED
by line tracking sensor.

![](media/7cee76af098561b7f521ab088f6e6da9.png)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                          | File Name                     |
|-----------|----------------------------------------------------------------|-------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_3_Line Tracking Sensor | lesson_3.1_Extension Practice |

You could edit code step by step as follows:

(1) Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Enter “Serial Port” to move
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Go to “Variables” to drag out
    block![](media/1ae07a66a021f66804a4db9141d3e6f5.png)and copy it twice

2.  Separately change item into val_L, val_M and val_R.

3.  Go to “Math” to move out
    block![](media/0171c9b9d68df2b854ebded805ca3371.png)and replicate it twice.

Edit code string as follows:

![](media/30065ea3ea3f61f3466205d9af84a4c9.png)

1.  Go to “Variables” to drag out
    block![](media/4d36fd0b35d9982289a193bd291a1d7c.png)，

2.  Then click “Sensor” → “DigitalRead”
    ![](media/eab5fe2561c4d55749e7183e40617b1a.png)

3.  Move
    block![](media/4d36fd0b35d9982289a193bd291a1d7c.png)block，

4.  The line tracking sensor is linked with D6, so set to PIN 11.

5.  ![](media/934c1e894cb10d23582c68b714c1ca13.png)Replicate
    block![](media/be9d0c8f176a84ffc394eb32e2fed825.png)twice，and separately
    change val_L into val_M and val_R;

6.  The tracking sensor is also connected to D7 and D8, therefore, set to PIN 7
    and PIN 8

![](media/934c1e894cb10d23582c68b714c1ca13.png)
![](media/d2169e7c7ea5729ebadbb291f128feee.png)

1.  Click “Serial Port” to drag out
    block![](media/7f8422c9a75e8f402b51c2a003d319d9.png)，and go to “Text” to
    move block![](media/3b18dc31f0ae89a9f3149c9ef027724b.png)into
    block![](media/7f8422c9a75e8f402b51c2a003d319d9.png)，

2.  Change hello into
    left：![](media/45fb5a0f82ce8c4646eac9f23a903cd5.png)

3.  Copy block![](media/7f8422c9a75e8f402b51c2a003d319d9.png)again，and
    enter“Variables”to move
    block![](media/7f8422c9a75e8f402b51c2a003d319d9.png).

4.  Replicate code ![](media/45fb5a0f82ce8c4646eac9f23a903cd5.png)once and
    delete left：， as shown below:

![](media/934c1e894cb10d23582c68b714c1ca13.png)
![](media/bbe38ba8aa5623b89a3cf06037c937a3.png)

1.  Duplicate code
    string![](media/5c50121d1aacb9a9803beb1ac0108b58.png)once，and change
    left：into middle : , val_L into val_M.

2.  Copy block![](media/99f846a695d03cfb2b8aeaa095ea5a51.png)，and alter
    left：into right：

3.  Go to“Serial Port”to drag
    out![](media/b1f7f1d1c2b65b3ebe359a9e8181ed46.png)block ，and enter
    “Variables” to drag ![](media/4a9a477e92174ae4c461fc7d73c09184.png)into
    block![](media/b1f7f1d1c2b65b3ebe359a9e8181ed46.png).

![](media/934c1e894cb10d23582c68b714c1ca13.png)
![](media/0b66d9a66fbc63fce7de2788128a3802.png)

1.  Enter“Control”to move out
    block![](media/6b0bc0755ffe368004c9ad0f73a1b573.png)to
    move
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)block
    turns into![](media/e648c3aa6f3059cc113923bc4160abcb.png).

2.  Go to “Logic” to move
    block![](media/ba4beab2225dda3e12dc06a6f193731f.png)into if block.

3.  Enter “Variables” to drag
    block![](media/c9ea8fe0c1d00b9b78919d7c86b64a45.png)into the left box of
    block“=”，click “Math” to move
    block![](media/0171c9b9d68df2b854ebded805ca3371.png)into right box
    of“=”，and change 0 into 1.

![](media/934c1e894cb10d23582c68b714c1ca13.png)
![](media/98289822eef62aa411b2ac92d018d3c6.png)

1.  Go to “sensor” → “ControlOutput”
    →![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)

2.  Place it into do block，and set to LOW

3.  LED is linked with D3，therefore, set to PIN 9.

4.  ![](media/6946351fce7e5c88b8ddefa1417bb340.png)Copy
    block![](media/bf5df558a62bc3245dcf09c114b9fcd7.png)again and keep it into
    else

5.  Then set to HIGH, click ”Control” to move out
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)，and delay in 2000ms.

![](media/934c1e894cb10d23582c68b714c1ca13.png)
![](media/8df2fea1dd03c4664701dfa977dce95b.png)

![](media/6946351fce7e5c88b8ddefa1417bb340.png)

(27) Replicate code
string![](media/731d6cef4e31be5ce2673951c5cac153.png)twice，and
![](media/6946351fce7e5c88b8ddefa1417bb340.png)respectively
set to val_M and val_R.

![](media/584daea320b72936a5e6d5907f763f9c.png)

![](media/eb7f0bcf6b3d5169b1e89be0ac095bcb.png)

Complete Program：

![](media/eb7f0bcf6b3d5169b1e89be0ac095bcb.png)


Upload the code to development board, we could see LED light up when covering
the line tracking sensor by hand.

### Project 4: Servo Control

1.  **Description**

Servo motor is a position control rotary actuator. It mainly consists of
housing, circuit board, core-less motor, gear and position sensor. Its working
principle is that the servo receives the signal sent by MCU or receiver and
produces a reference signal with a period of 20ms and width of 1.5ms, then
compares the acquired DC bias voltage to the voltage of the potentiometer and
obtain the voltage difference output.

When the motor speed is constant, the potentiometer is driven to rotate through
the cascade reduction gear, which leads that the voltage difference is 0, and
the motor stops rotating. Generally, the angle range of servo rotation is 0°
\--180 °

The rotation angle of servo motor is controlled by regulating the duty cycle of
PWM (Pulse-Width Modulation) signal. The standard cycle of PWM signal is 20ms
(50Hz). Theoretically, the width is distributed between 1ms-2ms, but in fact,
it's between 0.5ms-2.5ms. The width corresponds the rotation angle from 0° to
180°. But note that for different brand motor, the same signal may have
different rotation angle.

![](media/49467dfa70799401a5a5acc691014aee.png)

The corresponding servo angles are shown below:

![](media/ddc74f62dc936c925d28d70a1a9c2214.png)

1.  **Specification**

Working voltage: DC 4.8V \~ 6V

Operating angle range: about 180 ° (at 500 → 2500 μsec)

Pulse width range: 500 → 2500 μsec

No-load speed: 0.12 ± 0.01 sec / 60 (DC 4.8V) 0.1 ± 0.01 sec / 60 (DC 6V)

No-load current: 200 ± 20mA (DC 4.8V) 220 ± 20mA (DC 6V)

Stopping torque: 1.3 ± 0.01kg · cm (DC 4.8V) 1.5 ± 0.1kg · cm (DC 6V)

Stop current: ≦ 850mA (DC 4.8V) ≦ 1000mA (DC 6V)

Standby current: 3 ± 1mA (DC 4.8V) 4 ± 1mA (DC 6V)

1.  **Equipment：**

![](media/da237d31fa38667830ed9ada53a93045.png)

1.  **Wiring Diagram：**

![](media/50bf4f0c92727ccfc1603ab7666e3596.png)

Wiring note: the brown line of servo is linked with Gnd(G), the red line is
connected to 5v(V) and orange line is attached to digital 10.

The servo has to be connected to external power due to its high demand for
driving servo current. Generally, the current of development board is not
enough. If without connected power, the development board could be burnt.

1.  **Test Code：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                   | File Name              |
|-----------|---------------------------------------------------------|------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_4_Servo Control | lesson_4_Servo Control |

You could edit code step by step as follows:

1.  Go to“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter “Module”→“Drive_Module”to get
    block![](media/1302cb9a43d91d5e24b17b8b397bb526.png)and place it into
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，

3.  The servo is linked with D10, so set to PIN 10.

4.  Set servo to 90°，and delay in 500ms.

![](media/defd364e4a5e066487df727ef42270d2.png)

1.  Replicate code string ![](media/6032e5f5b52f8106c8767de69e5314c9.png)for
    three times，respectively change 90 into 0, 180 and 0

![](media/800839b405f06da330630c1d29d2c69f.png)

Complete Program：

![](media/21ee2feb5664515c5348ca877900b29b.png)

1.  **Test Result：**

Upload code successfully and power on, servo swings in the range of 0° to 180°.

### Project 5: Ultrasonic Sensor

1.  **Description**

![](media/047f9b876f31f9c98eea017c07c8383c.png)

The HC-SR04 ultrasonic sensor uses sonar to determine distance to an object like
bats do. It offers excellent non-contact range detection with high accuracy and
stable readings in an easy-to-use package. It comes complete with ultrasonic
transmitter and receiver modules.

The HC-SR04 or the ultrasonic sensor is being used in a wide range of
electronics projects for creating obstacle detection and distance measuring
application as well as various other applications. Here we have brought the
simple method to measure the distance with arduino and ultrasonic sensor and how
to use ultrasonic sensor wit h arduino.

1.  **Specification**

![](media/9779999818cbbe4e1adf5b57081be431.png)

Power Supply :+5V DC

Quiescent Current : \<2mA

Working Current: 15mA

Effectual Angle: \<15°

Ranging Distance : 2cm – 400 cm

Resolution : 0.3 cm

Measuring Angle: 30 degree

Trigger Input Pulse width: 10uS

1.  **Equipment：**

![](media/50e9da9a383ba0015a2c704232c5ff8e.png)

1.  **Ultrasonic Sensor**

As the above picture shown, it is like two eyes. One is transmitting end, the
other is receiving end.

The ultrasonic module will emit the ultrasonic waves after trigger signal. When
the ultrasonic waves encounter the object and are reflected back, the module
outputs an echo signal, so it can determine the distance of object from the time
difference between trigger signal and echo signal.

The t is the time that emitting signal meets obstacle and returns.

and the propagation speed of sound in the air is about 343m/s, therefore,
distance = speed \* time, because the ultrasonic wave emits and comes back,
which is 2 times of distance, so it needs to be divided by 2, the distance
measured by ultrasonic wave = (speed \* time)/2

1.  Use method and timing chart of ultrasonic module:

2.  Setting the delay time of Trig pin of SR04 to 10μs at least, which can
    trigger it to detect distance.

3.  2\. After triggering, the module will automatically send eight 40KHz
    ultrasonic pulses and detect whether there is a signal return. This step
    will be completed automatically by the module.

4.  3\. If the signal returns, the Echo pin will output a high level, and the
    duration of the high level is the time from the transmission of the
    ultrasonic wave to the return.

![](media/ba43be6007d9fe3aab0bb609868af640.png)

Circuit diagram of ultrasonic sensor:

![](media/b573604e96ca595da17452d9b126f2ba.png)

1.  **Hook-up Diagram：**

![](media/86bbfd807fb0bb56f91aa6d73d1f0036.png)

Wiring guide:

Ultrasonic sensor keyestudio V5 sensor shield

VCC → 5v(V)

Trig → 12(S)

Echo → 13(S)

Gnd → Gnd(G)

1.  **Test Code：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                        | File Name                     |
|-----------|--------------------------------------------------------------|-------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_5_Ultrasonic Sensor  | lesson_5.1_Ultrasonic Sensor  |

You could edit code step by step as follows:

(1) Click “Control” Module to get
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

(2) Enter “Serial Port” to move
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block.

![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Go to “Variables” to get
block![](media/1ae07a66a021f66804a4db9141d3e6f5.png)and copy it twice.
Respectively change item into distance 1 and distance 2.

(4) Click “Math” to move out
block![](media/0171c9b9d68df2b854ebded805ca3371.png)and replicate it twice.

![](media/57c14206426c33316cfee574abd253a8.png)

(5) Click “Variables” to drag out
block![](media/4f02d1456bb0ed46714e9e8f0e9bc88c.png)，and enter “sensor” →
“OtherSensor” →.![](media/e067dfd9bf593120e3723b1f3b108e73.png)

(6) Combine block![](media/4f02d1456bb0ed46714e9e8f0e9bc88c.png) with block
![](media/e067dfd9bf593120e3723b1f3b108e73.png)，

Trig pin of ultrasonic sensor is connected to D12(S) of shield，Echo is attached
to D13(S)，so set Trig 12 and Echo 13.

![](media/c0a6037cbd4c21df34e402e9efc32f34.png)

1.  Click “Variables” to get
    block![](media/dc7e1886ece9baf966a574d5fa53af9f.png)，and drag
    out![](media/8a4501800a666650f1d30c5c607de7e6.png) from “Math” and keep it
    behind block![](media/dc7e1886ece9baf966a574d5fa53af9f.png).

2.  Go to “Variables” to move out
    block![](media/63bd47f41b8c51c393507f0dee65fe46.png)left 1 box“.

3.  Then change another 1 into 0.3937，and set to “×”.

![](media/a3d3b610f7aa93b3222195464b7aeeef.png)

1.  Go to “Serial Port ” to drag out
    block![](media/f2f487f178408e3b391d083c82c1cd8d.png)，and click “Variables”
    to get block![](media/795097919b1070a5a9cc46632e8e5196.png).

(11) Combine ![](media/795097919b1070a5a9cc46632e8e5196.png) with
![](media/f2f487f178408e3b391d083c82c1cd8d.png)

![](media/7d7376f708980ab37b11e45eeb2f1956.png)

(12) Go to “Serial Port” to get
block![](media/f2f487f178408e3b391d083c82c1cd8d.png)，then click “Text” module
to drag
block![](media/f2f487f178408e3b391d083c82c1cd8d.png)中，and
change hello into in.

![](media/b71b36593d95bf43a6bdda87b618477c.png)

1.  Copy code string![](media/51d888a53b890075890ae1eee8d16cca.png)once，change
    distance2 into distance1，in into cm

![](media/6e88e9ce396a55aef3112564f357319a.png)

1.  Click “Control” to get
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)，delay in 50ms.

![](media/86721d54029407a74113e120542fc2ff.png)

Complete Program：

![](media/b5d88633cd0e70c4ae8ca378609c76fb.png)

1.  **Test Result：**

Upload test code on the development board, open serial monitor and set baud rate
to 9600. The detected distance will be displayed, unit is cm and inch. Hinder
the ultrasonic sensor by hand, the displayed distance value gets smaller.

![](media/db57c5b23e2d6dd41ad70d6331297262.png)

1.  **Extension Practice：**

We have measured the distance displayed by ultrasonic sensor. How about
controlling the LED with the measured distance? Let's try it, connect an LED
light module to the D3 pin.

![](media/cb1619d0282ea7afd1d6a053347f5b24.png)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                        | File Name                     |
|-----------|--------------------------------------------------------------|-------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_5_Ultrasonic Sensor  | lesson_5.2_Extension Practice |

You could edit code step by step as follows:

(1) Enter “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Click “Serial Port” to drag out
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Go to “Variables” to move out
block![](media/1ae07a66a021f66804a4db9141d3e6f5.png)and copy it twice.

(4) Enter “Math” to drag out
block![](media/0171c9b9d68df2b854ebded805ca3371.png)and replicate twice, and
change item into distance 1 and distance 2.

(5) Edit the code string as follows:

![](media/57c14206426c33316cfee574abd253a8.png)

(6) Go to “Variables” to move
out![](media/4f02d1456bb0ed46714e9e8f0e9bc88c.png)block，then click“sensor”→
“OtherSensor” →![](media/e067dfd9bf593120e3723b1f3b108e73.png)

(7) Combine it with block![](media/4f02d1456bb0ed46714e9e8f0e9bc88c.png)，the
pin Trig of ultrasonic sensor is linked with D12(S) of expansion board, pin Echo
is attached to D13(S); therefore, click the triangle button to select 12 and 13.

![](media/c0a6037cbd4c21df34e402e9efc32f34.png)

(8) Click “Variables” to get
block![](media/dc7e1886ece9baf966a574d5fa53af9f.png)，and drag
out![](media/8a4501800a666650f1d30c5c607de7e6.png) from “Math” and keep it
behind block![](media/dc7e1886ece9baf966a574d5fa53af9f.png).

1.  Go to “Variables” to move out
    block![](media/63bd47f41b8c51c393507f0dee65fe46.png)left 1 box“.

2.  Then change another 1 into 0.3937，and set to “×”.

![](media/a3d3b610f7aa93b3222195464b7aeeef.png)

1.  Go to “Serial Port ” to drag out
    block![](media/f2f487f178408e3b391d083c82c1cd8d.png)，and click “Variables”
    to get block![](media/795097919b1070a5a9cc46632e8e5196.png).

2.  Combine ![](media/795097919b1070a5a9cc46632e8e5196.png) with
    ![](media/f2f487f178408e3b391d083c82c1cd8d.png)

![](media/7d7376f708980ab37b11e45eeb2f1956.png)

1.  Go to “Serial Port” to get
    block![](media/f2f487f178408e3b391d083c82c1cd8d.png)，then click “Text”
    module to drag
    block![](media/f2f487f178408e3b391d083c82c1cd8d.png)中，and
    change hello into in.

![](media/b71b36593d95bf43a6bdda87b618477c.png)

1.  Replicate code string
    ![](media/51d888a53b890075890ae1eee8d16cca.png)once，and change distance2
    into distance1，and in into cm.

![](media/6e88e9ce396a55aef3112564f357319a.png)

1.  Go to“Control”to move out
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)and delay in 50ms

![](media/86721d54029407a74113e120542fc2ff.png)

1.  Click “Control” and drag it into
    block![](media/6b0bc0755ffe368004c9ad0f73a1b573.png)and
    move![](media/ec67799ae6a24d7f0bc062e6efad352e.png)then
    we get block![](media/1ecffbd539806a583d03347c7aa5a77a.png).

2.  Go to “Logic” to get ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png) and
    ![](media/ba4beab2225dda3e12dc06a6f193731f.png).

3.  Place ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png)into if block，and
    leave ![](media/ba4beab2225dda3e12dc06a6f193731f.png) in the left box of
    block![](media/f1a063334f9c7f82ff4903fa84b9eebc.png).

4.  Enter “Variables” to get
    block![](media/63bd47f41b8c51c393507f0dee65fe46.png) and keep it at left box
    of block “=”.

5.  Go to “Math” to move out![](media/0171c9b9d68df2b854ebded805ca3371.png)into
    right box of block “=”，and change 0 into 2, “=” into “≥”.

6.  Replicate block![](media/98d62e267e0aeac3ce97b877ad34f782.png)once and set
    ![](media/533d83ffc6ebcab86afd0c659713e15e.png)

![](media/c40ca3725ccda8e28e7e5178326b69fc.png)

1.  Click “sensor”
    →“ControlOutput”→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)and place it
    into do block，

2.  The S end of LED Module is connected to D3 of expansion board，therefore,
    click the triangle button to select 9.

3.  ![](media/8f6193438ea00133d2335be2c9d2946a.png)Replicate
    block![](media/cbad7bb7e28d444164291ff444759668.png)once and leave it into
    “else” and set to LOW.

![](media/345df978da6ec3e14c59f7f6ded5d3e9.png)

Complete Program：

![](media/345df978da6ec3e14c59f7f6ded5d3e9.png)

Upload test code to development board and block ultrasonic sensor by hand, then
check if LED is on

### Project 6: IR Reception**

1.  **Description**

There is no doubt that infrared remote control is ubiquitous in daily life. It
is used to control various household appliances, such as TVs, stereos, video
recorders and satellite signal receivers. Infrared remote control is composed of
infrared transmitting and infrared receiving systems, that is, an infrared
remote control and infrared receiving module and a single-chip microcomputer
capable of decoding.​

![](media/e0644987f70b38cdabde382b27858604.png)The 38K infrared carrier signal
emitted by remote controller is encoded by the encoding chip in the remote
controller. It is composed of a section of pilot code, user code, user inverse
code, data code, and data inverse code. The time interval of the pulse is used
to distinguish whether it is a 0 or 1 signal and the encoding is made up of
these 0, 1 signals.

The user code of the same remote control is unchanged. The data code can
distinguish the key.

When the remote control button is pressed, the remote control sends out an
infrared carrier signal. When the IR receiver receives the signal, the program
will decode the carrier signal and determines which key is pressed. The MCU
decodes the received 01 signal, thereby judging what key is pressed by the
remote control.

Infrared receiver we use is an infrared receiver module. Mainly composed of an
infrared receiver head, it is a device that integrates reception, amplification,
and demodulation. Its internal IC has completed demodulation, and can achieve
from infrared reception to output and be compatible with TTL signals.
Additionally, it is suitable for infrared remote control and infrared data
transmission. The infrared receiving module made by the receiver has only three
pins, signal line, VCC and GND. It is very convenient to communicate with
arduino and other microcontrollers.

1.  **Specification**

Operating Voltage: 3.3-5V（DC）

Interface: 3PIN

Output Signal: Digital signal

Receiving Angle: 90 degrees

Frequency: 38khz

Receiving Distance: 10m

1.  **Equipment：**

![](media/38e741ddbef300c65e4be88d2af201b8.png)

1.  **Connection Diagram**

![](media/8f892c22b1739bbff387914dc93de2ef.png)

Respectively link “-”, “+” and S of IR receiver module with G(GND）, V（VCC）and
A0 of keyestudio development board.

Attention: On the condition that digital ports are not available, analog ports
can be regarded as digital ports. A0 equals to D14, A1 is equivalent to digital
15.

1.  **Test Code：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                  | File Name               |
|-----------|--------------------------------------------------------|-------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_6_IR Reception | lesson_6.1_IR Reception |

You could edit code step by step as follows:

(1) Enter “Control” Module to get
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

(2) Click“Serial Port”Module to drag
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block

![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Go to
“Module”→”Communicate_Module”→![](media/96059aeedab32910761af0731f9c3bae.png)，

(4) Signal end of IR receiver module is connected to A0 of shield, therefore,
click triangle button to select 3.

![](media/74271c03820bf80ef4e78c88433898f7.png)

(5) Click “Control” Module，to
move![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)out, delay in 100ms

![](media/787d2d789500285a91f9c7c6a1c7a376.png)

Complete Program：

![](media/184ac895371a1f57ec285f24e4325f5b.png)

1.  Test Result：

Upload test code, open serial monitor and set baud rate to 9600, point remote
control to IR receiver and the corresponding value will be shown, if pressing so
long, the error codes will appear

![](media/92887b989e103ef082569bbb34817852.png)

Below we have listed out each button value of keyestudio remote control. So you
can keep it for reference.

![](media/ebcf0cb2055f7784505f76ceeaef9f47.jpeg)

1.  **Extension Practice:**

We decoded the key value of IR remote control. How about controlling LED by the
measured value? We could operate an experiment to affirm. Attach an LED to D3,
then press the keys of remote control to make LED light up and off.

![](media/184ac895371a1f57ec285f24e4325f5b.png)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                  | File Name                     |
|-----------|--------------------------------------------------------|-------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_6_IR Reception | lesson_6.2_Extension Practice |

You could edit code step by step as follows:

(1) Enter “Control” Module to get
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Go to “Serial Port” to move out
block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Go
to“Module”→“Communicate_Module”→![](media/96059aeedab32910761af0731f9c3bae.png)，

(4) S end of IR receiver module is linked with 3. therefore, click triangle
button to set A0.

![](media/74271c03820bf80ef4e78c88433898f7.png)

1.  Go to “Variables” to move
    block![](media/1ae07a66a021f66804a4db9141d3e6f5.png)into
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，(6) Go to“Math”to drag
    out block![](media/0171c9b9d68df2b854ebded805ca3371.png)and integrate with
    ![](media/1ae07a66a021f66804a4db9141d3e6f5.png), then change item into a.

![](media/c05b35646e33af01ea62e8a614b36588.png)

(7) Click “Control”module to get
block![](media/2ca74f70e4001ad5a00d135a596025ab.png)turns
into![](media/3956e6943d009077242fe93002233341.png)block.

(8) Go to “Logic”，and find out
block![](media/f1a063334f9c7f82ff4903fa84b9eebc.png). Leave it behind if block

(9) Go to “Logic” to place![](media/ba4beab2225dda3e12dc06a6f193731f.png)in the
left box.

(10) Click “Variables” to move ![](media/6c120acad5ab3b20f027c326656b2f2d.png)in
the left box of “=” block，go to “Math” to drag
out![](media/0171c9b9d68df2b854ebded805ca3371.png)into right box of “=”，then
change 0 into 0xFF02FD.

Copy![](media/0370b3d4646a039e4d86bbfb7ff13e34.png)once and keep it into right
box of ”and” block，change ir_item into a，0xFF02FD into 0.

![](media/2da16328defb5bf7ac8d4ebe630e0923.png)

(11) Click “sensor”→
“ControlOutput”→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)

(12) Keep it into the first do block，S end of red LED module is linked with D3
of expansion board，and set to Pin 3.

![](media/b7247305a4be3ec0df9114773195349e.png)
![](media/b5239f68922bf76e096eb99269c09ead.png)

(13) Go to “Variables” to move
![](media/2f3c35140a54edfff47c9b246c6056a3.png)below “Red_LED...HIGH” block.

(14) Click “Math” to get block![](media/0171c9b9d68df2b854ebded805ca3371.png)
into![](media/2f3c35140a54edfff47c9b246c6056a3.png)，and change 0 into 1.

![](media/b7247305a4be3ec0df9114773195349e.png)
![](media/890e2cb094f3d083e1faeaf52eb1a88c.png)

1.  Replicate![](media/21dceda1bee34f5fd94b0a098d6c171a.png) once and move into
    “else if” ，change 0 into 1.

![](media/b7247305a4be3ec0df9114773195349e.png)
![](media/75dfc90cd300d6ada0b58fb119dd5193.png)

1.  ![](media/b7247305a4be3ec0df9114773195349e.png)Replicate code
    string![](media/4b100a3f4e9f523fd2b1979dea83c049.png)once and place it into
    second do block.

2.  Click “HIGH” into “LOW”，1 into 0.

![](media/b7247305a4be3ec0df9114773195349e.png)
![](media/6c5c9e9a5009997e1070796708a84f24.png)

Complete Program：

![](media/c4b5da44078ac02f7f062511dc88c8ea.png)

Upload code to development board, press “OK” key on remote control to make LED
on and off.

### Project 7: Bluetooth Remote Control

1.  **Description：**

Bluetooth, a simple wireless communication module most popular since the last
few decades and easy to use are being used in most of the battery-powered
devices.

![](media/3920253c86188ac64cf9b82c0df6c941.png)Over the years, there have been
many upgrades of Bluetooth standard to keep fulfil the demand of customers and
technology according to the need of time and situation.

Over the few years, there are many things changed including data transmission
rate, power consumption with wearable and IoT Devices and Security System.

Here we are going to learn about HM-10 BLE 4.0 with Arduino Board. The HM-10 is
a readily available Bluetooth 4.0 module. This module is used for establishing
wireless data communication. The module is designed by using the Texas
Instruments CC2540 or CC2541 Bluetooth low energy (BLE) System on Chip (SoC).

1.  **Parameters:**

![](media/698ae05d05c7378653606387991ad1c2.png)

Bluetooth protocol: Bluetooth Specification V4.0 BLE

No byte limit in serial port Transceiving

In open environment, realize 100m ultra-distance communication with iphone4s

Working frequency: 2.4GHz ISM band

Modulation method: GFSK(Gaussian Frequency Shift Keying)

Transmission power: -23dbm, -6dbm, 0dbm, 6dbm, can be modified by AT command.

Sensitivity: ≤-84dBm at 0.1% BER

Transmission rate: Asynchronous: 6K bytes ; Synchronous: 6k Bytes

Security feature: Authentication and encryption

Supporting service: Central & Peripheral UUID FFE0, FFE1

Power consumption: Auto sleep mode, stand by current 400uA\~800uA, 8.5mA during
transmission.

Power supply: 5V DC

Working temperature: –5 to +65 Centigrade

1.  **Equipment：**

![](media/5d4fa4019e82ef20acc494524d5084aa.png)

1.  **Hook-up diagram：**

**1. STATE:** *state test pins, connected to internal LED, generally keep it
unconnected.*

**2. RXD:** *serial interface, receiving terminal.*

**3. TXD:** *serial interface, transmitting terminal.*

**4. GND:** *Ground.*

**5. VCC:** *positive pole of the power source.*

**6. EN/BRK:** *break connect, it means breaking the Bluetooth connection,
generally, keep it unconnected.*

![](media/e9c84ec9c1c91febe793e615364ea860.png)

**Pay attention to the pin direction when inserting Bluetooth module, and don’t
insert it before uploading test code**

1.  **Test Code：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                              | File Name                            |
|-----------|--------------------------------------------------------------------|--------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_7_Bluetooth Remote Control | lesson_7.1_Bluetooth Remote Control  |

You could edit code step by step as follows:

1.  Click “Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter “Serial Port”to move
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Click “Variables” to drag out
    ![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，enter
    “Math” block to get block![](media/0171c9b9d68df2b854ebded805ca3371.png).

2.  Place it behind “value”，and change item into ble_val，click the drop-down
    triangle button to select char.

![](media/7f31ab21d82a4e3b53f61226eccfe92f.png)

1.  Go to “Control” to get
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)，and click “Serial
    Port” to move out block![](media/1f87abf3c6ac4fbadf1e234e76a8aefd.png)into
    if block.

![](media/e79f4c4583c686d756bf777d54abef20.png)

1.  Enter “Variables” to drag out
    block![](media/4615c6b7c93add0fe05558f27c8bbf00.png)into do block，click
    “Serial Port” to move out block
    ![](media/35c893d098bc538139d7dfd6ecc560d6.png) into
    ![](media/4615c6b7c93add0fe05558f27c8bbf00.png) block.

![](media/262ecdaead6e3f8a1623400d4c0f25e2.png)

1.  Enter “Serial Port” to move
    block![](media/c5b6ffacfdbd75150684d2e7744fa9bc.png) into do block，then
    click “Variables” to drag out
    ![](media/66c33076d8003c5b40d8da950b5c6240.png)into
    block![](media/c5b6ffacfdbd75150684d2e7744fa9bc.png).

![](media/e8c82f72421db068e1e51ce4c6870104.png)

Complete Program：

![](media/1dccac0d10235835664c8b58c80a0355.png)


(There will be contradiction between serial communication of code and
communication of Bluetooth when uploading code, therefore, don’t link with
Bluetooth module before uploading code.)

After uploading code on development board, then insert Bluetooth module, wait
for the command from cellphone.

**(6) Download APP**

The code is the received signal by serial monitor, in this project, we send
signal to control robot car via cellphone.

Then we need to download the APP.

1.  **iOS system**

Enter APP STORE to search **BLE Scanner 4.0, then download it.**

![](media/1e7081e38b12fee16c01d368ee3428fd.png)

1.  **Android system**

Enter [Google Play](https://developer.android.google.cn/distribute?hl=zh-cn) to
find out **BLE Scanner, then download.**

**(Enable“location”in settings of your cellphone; otherwise, app may not be
searched.)**

![](media/cf5e6cd8b98346d3e90faf4a10e92dc1.png)

1.  After installation, open App and enable“Location and Bluetooth” permission.

1.  Open App, the name of Bluetooth module is HMSoft.

Then click “connect” to link with Bluetooth

![](media/cc2ad4236eb001676ae447e8033edd2f.png)

1.  After connecting to HMSoft, click it to get multiple options, such as device
    information, access permission, general and custom service. Choose “CUSTOM
    SERVICE”

![](media/55d4135167e2eadde1595cc4c81ff13d.jpeg)

1.  Then pop up the following page.

![](media/f74e64f9f29e0813db44971d2896d7f2.png)

7\. Click（Read,Notify,WriteWithoutResponse)to enter the following page

![](media/c769ffa7b68eb36516a429147d5f65b6.png)

8\. Click **Write Value to enter HEX or Text.**

![](media/d8afcda78947d9fc25d41cc16a182369.png)

1.  Open the serial monitor on Arduino，enter a 0 or other character on Text
    interface.

![](media/767ed0b7d1876e63ff109d8a355209ac.png)

1.  Then click “Write”, open serial monitor to view if there is a “0” signal

![](media/5254b35b30451fc6dbf7de998cf5e16b.png)

**(7) Extension Practice：**

We could send a command via Bluetooth to turn on and off a LED.

D3 is connected to a LED, as shown below:

![](media/cd4b6112e9a5a7cd6dba8560e82a1dc5.png)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                                 | File Name                       |
|-----------|-----------------------------------------------------------------------|---------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_7\_ Bluetooth Remote Control  | lesson_7.2\_ Extension Practice |

You could edit code step by step as follows:

1.  Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter “Serial Port”to move
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

3.  Click “Variables” to move
    block![](media/1ae07a66a021f66804a4db9141d3e6f5.png)into
    ![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block，then go to “Math” to
    find out![](media/0171c9b9d68df2b854ebded805ca3371.png)，

4.  Combine
    ![](media/0171c9b9d68df2b854ebded805ca3371.png)and
    change item into i.

![](media/88ca5fbbbaac4f042b99981fffa0cc1b.png)

1.  Click “Control” to get
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)，and enter “Serial
    port”to move![](media/1f87abf3c6ac4fbadf1e234e76a8aefd.png)into if block.

![](media/e79f4c4583c686d756bf777d54abef20.png)

1.  Go to “Variables” to drag
    block![](media/1feb00be959378a6ea2ec6580a4965bd.png)into do block，

2.  enter “Serial port” to move
    out![](media/35c893d098bc538139d7dfd6ecc560d6.png)block and edit code string
    as follows:

![](media/9367806c20fb3f3eb0a49501a4c5a89c.png)

1.  Enter “Serial port” to drag
    out![](media/c5b6ffacfdbd75150684d2e7744fa9bc.png)，

2.  Click “Text” to move
    out![](media/c5b6ffacfdbd75150684d2e7744fa9bc.png)block，and
    change “hello” into DATA RECEIVED：.

![](media/d1065384adcd0f7f2cbe853d334630cc.png)

1.  Click “Control” to move out
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)into do，click “Logic”
    to move![](media/a4c954b2483cfdf0130916768d69f56e.png)block into if，

2.  Enter “Variables” to move
    ![](media/7c12efbf3f0e9e6d8473c96374003e14.png)into left box of “=”，then
    enter “Text” to get block![](media/a3e5bd1b881a89edee91f44d22ff0640.png)and
    leave it into right box“=”，change a into 1.

![](media/f1acdb9da0a979f252eff728fed7447d.png)

1.  Enter “Sensor”→
    “ControlOutput”→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)

2.  Drag it into the second do block，S end of red LED is connected to D3,
    therefore, set to Pin 3.

![](media/ff96e8cd71f17ba598126d359319a21a.png)
![](media/a07d1e60a27e3a76cd040c07005caf28.png)

1.  Replicate![](media/53a5ad7e8d90f73bff7a05ed2c95ef00.png)once and place it
    into the second do block. Change DATA RECEIVED：into led on.

![](media/ff96e8cd71f17ba598126d359319a21a.png)
![](media/98e9b07c84711a2dcee1946857de5b88.png)

1.  ![](media/ff96e8cd71f17ba598126d359319a21a.png)Copy code
    string![](media/e8382851e1819961f9ad95b50521c7fc.png)once and change 1 into
    0，click “HIGH” to select “LOW”，and change led on into led off.

![](media/ff96e8cd71f17ba598126d359319a21a.png)
![](media/49c701bc8071689221dfe8e9c63c19b5.png)

Complete Program：

![](media/ecdd570161de56394d1650fcbdd8b8bf.png)

![](media/767ed0b7d1876e63ff109d8a355209ac.png)

Click “Write” on APP, when you enter 1, LED will be on, when you input 0, LED
will be off. (Remember to remove the Bluetooth module after finishing
experiment; otherwise, burning code will be affected)

### Project 8: Motor Driving and Speed Control

1.  **Description**

There are many ways to drive the motor. Our robot car uses the most commonly
used L298P solution. L298P is an excellent high-power motor driver IC produced
by STMicroelectronics. It can directly drive DC motors, two-phase and four-phase
stepping motors. The driving current up to 2A, and output terminal of motor
adopts eight high-speed Schottky diodes as protection.

We designed a shield based on the circuit of L298p.

The stacked design reduces the technical difficulty of using and driving the
motor.

![](media/c0ffa8464205b409d41cefd0e438c739.jpeg)

![](media/1ceaba5e2ad07d71de2e6267e39e9205.jpeg)

**(2) Specification**

Circuit Diagram for L298P Board

1.  Logic part input voltage: DC5V

2.  Driving part input voltage: DC 7-12V

3.  Logic part working current: \<36mA

4.  Driving part working current: \<2A

5.  Maximum power dissipation: 25W (T=75℃)

6.  Working temperature: -25℃～＋130℃

7.  Control signal input level: high level 2.3V\<Vin\<5V, low level
    \-0.3V\<Vin\<1.5V

**(3) Drive Robot to Move**

The driver of motor driver shield is in parallel connection. You could control
the direction of motors by altering the orientation of jumper caps(seen in the
picture).

![](media/10db27c4c4af70378ff7c9c5badb8da9.jpeg)

Through the above diagram, the direction pin of B motor is D4, and speed pin is
D5; D2 is the direction pin of A motor, D6 is speed pin.

PWM decides 2 motors to rotate so as to drive robot car. The PWM value is in the
range of 0-255, the larger the number, the faster the motor rotates

| **4WD** **Robot** |  **Motor (A)**       | **Motor (B)**        |
|-------------------|----------------------|----------------------|
| Forward           | Rotate clockwise     |                      |
| Backward          | Rotate anticlockwise |                      |
| Rotate to left    | Rotate anticlockwise | Rotate clockwise     |
| Rotate to right   | Rotate clockwise     | Rotate anticlockwise |
| Stop              | Stop                 | Stop                 |

**(4) Equipment：**

![](media/09f259e29ef1c80c802e5c8c8a05bd55.png)

**(5) Hook-up Diagram：**

![](media/ebfcfdecfd0094de1b6d60f9c8c057ed.png)

**Attention: connect motors in compliance with the above connection diagram**

1.  **Test Code：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                                      | File Name                                    |
|-----------|----------------------------------------------------------------------------|----------------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_8_Motor Driving and Speed Control  | lesson_8.1_Motor Driving and Speed Control   |

You could edit code step by step as follows:

(1) Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

(2) Go to
”Module”→”Drive_Module”→![](media/464a82194a287172b7f86e7270358b98.png)，

(3) Place it into ![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block，

(4) The direction pin and speed control pin of B motor(left) are connected to D4
and D5. So set PIN 4 and PIN 5 as follows:

![](media/896963073472f0e53303b23e969dce42.png)

(5) Copy![](media/cc67e2e605679c2146ad507f7bdef509.png)once and place it into
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，

(6) The direction pin and speed control pin of A motor (right) are connected to
D2 and D9. So set PIN 2 and PIN 9 as follows:

![](media/70663f88652c5da777782231020d64d4.png)

1.  ![](media/26677d4bb17c9b5b5a776a6af7cbe430.png)Duplicate code string
    ![](media/799321df9593e10500b134c9e8358e9b.png)once, set INA to HIGH and PWB
    to 200：

![](media/26677d4bb17c9b5b5a776a6af7cbe430.png)
![](media/2eb7d00887a1db20a4118ba19556f53b.png)

1.  Click “Control” to move out
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)，delay in 2000ms.

![](media/26677d4bb17c9b5b5a776a6af7cbe430.png)
![](media/516ed31d685ab3cf4be8a580c313647a.png)

1.  ![](media/516ed31d685ab3cf4be8a580c313647a.png)for
    four times，then set the code string as follows:

![](media/f8e50b1a459ecaab4d0f60101f42b8be.png)

Complete Program：

![](media/03f57bcb4e012feafd8da3986872c94c.png)

**(7) Test Result:**

Hook up by connection diagram, upload code and power on, smart car goes forward
and back for 2s, turns left and right for 2s, stops for 2s and alternately.

1.  **Extension Practice：**

Adjust the speed that PWM controls the motor, hook up in same way.

![](media/ebfcfdecfd0094de1b6d60f9c8c057ed.png)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                                     | File Name                     |
|-----------|---------------------------------------------------------------------------|-------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_8_Motor Driving and Speed Control | lesson_8.2_Extension Practice |

You could edit code step by step.

Complete Program：

![](media/7866947bfe2d58e98495d92ef0a7d5e5.png)

Upload code successfully, the motors rotate slower.


### Project 9: 8*16 LED Board

1.  **Description**

![](media/2c6708cb4d9bb775c0b6001b47ad0392.jpeg)
If we add a 8\*16 LED board to the robot, it will be amazing. Keyestudio's 8\*16
dot matrix can meet your requirements. You can create facial emoticons, patterns
or other interesting displays yourself. 8\*16 LED light board comes with 128
LEDs. The data of the microprocessor (arduino) communicates with the AiP1640
through the two-wire bus interface, so as to control the 128 LEDs on the module,
which produce the patterns you need on dot matrix. To facilitate wiring, we also
provide a HX-2.54 4Pin wiring.

1.  **Specification**

Working voltage: DC 3.3-5V

Power loss: 400mW

Oscillation frequency: 450KHz

Drive current: 200mA

Working temperature: -40\~80℃

Communication method: two-wire bus

1.  **Equipment：**

![](media/4414d47ebe34a6e15ce17379bfdae9b7.png)

**(4) 8\*16 Dot Matrix Display**

Circuit Graph：

![](media/edf6c77d05904eebbaa89d557e9e9c1a.png)

**The principle of 8\*16 dot matrix:**

How to control each led light of 8\*16 dot matrix? We know that a byte has 8
bits, each bit is 0 or 1. When a bit is 0, turn off LED and when a bit is 0,
turn on LED. Thereby, one byte can control the LED in a row of dot matrix, so 16
bytes can control 16 columns of led lights, that is, 8\*16 dot matrix.

**Interface Description and Communication Protocol:**

The data of the microprocessor (arduino) communicates with the AiP1640 through
the two-wire bus interface.

The communication protocol diagram is shown below:

(SCLK) is SCL, (DIN) is SDA:

![](media/ea2bab37f23c09453c680590b84653d6.png)

①The starting condition for data input: SCL is high level and SDA changes from
high to low.

②For data command setting, there are methods as shown in the figure below

In our sample program, select the way to **add 1 to the address automatically**,
the binary value is 0100 0000 and the corresponding hexadecimal value is 0x40

![](media/7e326d7edc877ea2509cbf8649f82d99.png)


③For address command setting, the address can be selected as shown below.

The first 00H is selected in our sample program, and the binary number 1100 0000
corresponds to the hexadecimal 0xc0

![](media/e6da87c9f6056f849c973edec5456f3e.png)


④The requirement for data input is that SCL is high level when inputting data,
the signal on SDA must remain unchanged. Only when the clock signal on SCL is
low level, the signal on SDA can be altered. The data input is low-order first,
high-order is behind

⑤ The condition to end data transmission is that when SCL is low, SDA is low,
and when SCL is high, the SDA level also becomes high.

⑥ Display control, set different pulse width, the pulse width can be selected as
shown below

In the example, we choose pulse width 4/16, and the hexadecimal corresponds to
1000 1010 is 0x8A

![](media/ad238f413988f77bcf074a5642a5061d.png)

4\. Introduction for Modulus Tool

The online version of dot matrix modulus tool:

[http://dotmatrixtool.com/\#](http://dotmatrixtool.com/)

①Open links to enter the following page.

![](media/354693b5679a2615c62e99b7025d6355.png)

②The dot matrix is 8\*16 in this project, so set the height to 8, width to 16,
as shown below.

![](media/5f0278d66ade370e871b447d360d6e7b.png)

③ Generate hexadecimal data from the pattern

As shown below, press the left mouse button to select, the right button to
cancel, draw the pattern you want, click **Generate**, and the hexadecimal data
we need will be produced.

![](media/586e88bf13c61b0918046437ed7f6796.png)

**(5) Connection Diagram**

![](media/aecc23b6c06d1390eb5921e787a71a21.png)

Wiring note: The GND, VCC, SDA, and SCL of the 8\*16 LED panel are respectively
connected to -(GND), + (VCC), A4 and A5 of the keyestudio sensor expansion board
for two-wire serial communication. (Note: This pin is connected to arduino IIC,
but this module is not IIC communication, it can be linked with any two pins.)

**(6) Test Code**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                    | File Name                   |
|-----------|----------------------------------------------------------|-----------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_8\*16 LED Board  | lesson_9.1_8\*16 LED Board  |

You could edit code step by step as follows:

(1) Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2)Enter“Module”→“Display_Module”→![](media/efee168b78529ea542f0c20f430521e0.png)

(3) Leave it into block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/6fbcf15241f1ece01703010e71c4e381.png)

(4) Go to “Display_Module” to get
block![](media/612e884a761042c88cc33395ade595cd.png)and leave it into
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，and click drop-down
triangle button to set “clear”.

![](media/211c3c0d99cfce78bbf510cce486ad9f.png)

(5) Move out block![](media/612e884a761042c88cc33395ade595cd.png)，and set
“![](media/97215168f939260e175fbbb0e347f0bc.png)”.

![](media/ecec939c074964d61aaf5770e2249bf0.png)

Complete Program：

![](media/97215168f939260e175fbbb0e347f0bc.png)
pattern

1.  **Test Result：**

Wire according to connection diagram. The DIP switch is dialed to right end and
power on, the smile face appears on dot matrix.

![](media/95bb011957896b12285fc6763137bb9a.png)

1.  **Extension Practice:**

We use the modulo tool
([http://dotmatrixtool.com/\#](http://dotmatrixtool.com/))to make the dot matrix
alternately display start, forward and stop patterns then clear the patterns.
The time interval is 2000 milliseconds.

![](media/e7fbd5f40b576712264670f1da25e73a.png)
![](media/04671204b61e95d017653e14d99c531d.png)

Get the graphical code to be displayed via modulus tool

**Start：**

![](media/5927be2e093863abf1518993505b6571.png)

**Go front：**

![](media/67e0d5afd018011543d5b55c4587db67.png)

**Go back：**

![](media/d14e4cccd8ee6cb577d33345a736ee80.png)

**Turn left：**

![](media/cc3b9f474c4285bf472dc469c522b990.png)

**Turn right：**

![](media/a53a8be1f15271e2ffbcac4e30a2202e.png)

**Stop：**

![](media/8b5c3b0e87b1a17a63f63f6ac5527def.png)

**Clear:**

![](media/7002879d48674b13918fcda662a546c4.png)

Hook-up Diagram：

![](media/75cb1aea53023b46a826cbf6ff379e5b.png)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                    | File Name                     |
|-----------|----------------------------------------------------------|-------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_9_8×16 LED Board | lesson_9.2_Extension Practice |

You could edit code step by step as follows:

You could edit code step by step as follows:

(1) Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

1.  Enter “Module” →"Display_Module" to move
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/6fbcf15241f1ece01703010e71c4e381.png)

1.  Then drag
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

2.  Click the drop-down triangle button behind “↑”to select “clear”.

![](media/211c3c0d99cfce78bbf510cce486ad9f.png)

1.  Copy ![](media/612e884a761042c88cc33395ade595cd.png) again, click the
    drop-down triangle button behind “↑” to set “V”.

![](media/b7a2f2bd2217bb15e9db862dad8340fc.png)

1.  Click “Control” to get block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png),
    delay in 2000ms.

![](media/e25797d4a4e712d00770afe38368965f.png)

1.  Replicate code string![](media/e25797d4a4e712d00770afe38368965f.png)for
    three times，separately click the triangle button to set “↑”, “STOP” and
    “clear”.

![](media/37a48a9ab4e89af0f62b45b710ead145.png)

Complete Program：

![](media/9f0bf406b15bc5ed948d82c0a375bde0.png)

Upload code on development board, 8\*16 dot matrix displays front and stop
patterns, alternately.

![](media/71b8d2089f39a655481e98faceb06136.png)

### Project 10: Line Tracking Robot

![](media/0bf5972723b7406d5e3bd7b2549b7e51.jpeg)

1.  **Description**

The previous projects are inclusive of the knowledge of multiple sensors and
modules. Next, we will work on a little challenging task.

We could make a line tracking car on top of the working principle of line
tracking sensor.

**Line tracking robot car:**

| Detection | Left tracking sensor | detects black line：HIGH |
|-----------|----------------------|--------------------------|
|           |                      |                          |


detects white line：LOW

Middle tracking sensor

detects black line：HIGH

detects white line：LOW

Right tracking sensor

detects black line：HIGH

detects white line：LOW

Condition 1

Status

Middle tracking sensor detects black line

go front

（PWM set to 70）

Middle tracking sensor detects white line

Status

detecting the left and the right tracking sensor

Condition 2

Status

left tracking sensor detects black line; right sensor detects white line

Rotate to left

（set PWM to 200）

left tracking sensor detects white line; right sensor detects black line

Rotate to right

（ set PWM to 200）

left tracking sensor detects black line; right sensor detects black line

stop

left tracking sensor detects white line; right sensor detects white line

stop

 Flow Chart

![](media/3bef8ab0fb4bb48ea3221a68c5d88711.png)

**(3) Connection Diagram**

![](media/03f195f292f8070b97b21ed1024ced87.png)

1.  **Test Code**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                          | File Name                     |
|-----------|----------------------------------------------------------------|-------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_10_Line Tracking Robot | lesson_10_Line Tracking Robot |

You could edit code step by step as follows:

1.  Go to“Control”Module to find out
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

2.  Click“Variables”to move out
    block![](media/1ae07a66a021f66804a4db9141d3e6f5.png)and duplicate it for two
    times.

(3) Separately change item into val_L, val_C and val_R.

(4) Go to“Math”to move out
block![](media/0171c9b9d68df2b854ebded805ca3371.png)and copy it twice.

(5) Edit the following code string:

![](media/7f33daf90ba0abb803f54b9625ad0fa3.png)

(6) Go to “Variables” to get
block![](media/4d36fd0b35d9982289a193bd291a1d7c.png).

(7) Enter
“robot”→“4wd-SmartCar”→![](media/2bf21d51c6c450ed5b65b23d1ce2afe3.png).

(8)
![](media/8c0ec317a2577f223b987ec170910d3f.png)

(9) Replicate![](media/8c0ec317a2577f223b987ec170910d3f.png)twice，then change
val_L into val_C and val_R；left_tracking into center_tracking and
right_tracking.

![](media/aa358e6b0d1aafec3426ceb72be6acd2.png)

(10) Click“Control”to get block
![](media/6b0bc0755ffe368004c9ad0f73a1b573.png)，and
move![](media/2ca74f70e4001ad5a00d135a596025ab.png)block
turns into![](media/e648c3aa6f3059cc113923bc4160abcb.png)block.

(11) Click“Logic”to move out
block![](media/ba4beab2225dda3e12dc06a6f193731f.png)and place it behind if
block. Go to“Variables”to drag out
block![](media/dc1d0c92f8f64ee21c89b0384519c826.png)into left box of“=”block，

(12) Copy![](media/0171c9b9d68df2b854ebded805ca3371.png)again and leave it into
right box of“=”b lock，and change 0 into 1.

![](media/bfc9cfcdb61baa7be057c7ee94c1c2c9.png)

1.  Enter“robot”→“4wd-SmartCar”→![](media/71077228ea4d4bfad104a18386966a0d.png)

2.  Place it into do block and set to 70.
    ![](media/261f6689a9dcc8e87ff93bdf373385c9.png)

3.  Go to“Control”to move
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)into else
    block，click![](media/6b0bc0755ffe368004c9ad0f73a1b573.png)，drag
    block![](media/23d14c6bea2dbc6dce97e3b22ee8adcb.png)block
    and move
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)block
    turns into block![](media/cee6c9bc223850fe80df787106c6ac7a.png).

1.  Enter“Logic”Module to move
    block![](media/f1a063334f9c7f82ff4903fa84b9eebc.png)into if block，go
    to“Logic”to drag block ![](media/ba4beab2225dda3e12dc06a6f193731f.png)into
    left box of “=”.

2.  Go to“Variables” to move
    block![](media/316226358a4880e2622edfa9dd36d17f.png)into left box of
    “=”block，

3.  Enter“Math”to drag block![](media/0171c9b9d68df2b854ebded805ca3371.png)into
    right box of“=”block，then change 0 into 1；

4.  Replicate block![](media/041ac2313b9d45e53df1e7d01570a576.png)once and keep
    it into right box of “and”block ，

5.  Change val_L into val_R, 1 into 0.

![](media/818d4630a0d6f07bbeead597625fc4f1.png)

1.  Enter “robot”→”4wd-SmartCar”→![](media/326284d216a8db5c3643eb231d51bb95.png)

2.  Leave it into second do block, and change 0 into 200.

![](media/412976f0be73588e8f0c5d153758d544.png)

1.  Duplicate block![](media/9da5cbe0926b0b2719b905c8b9ce1014.png)once and keep
    it into else if block. Refer the following code string to edit:

![](media/54ee8fd71cad03c1422c67599ff6f061.png)

1.  Click“robot”→“4wd-SmartCar”Module，→![](media/8835e4a0d4c758724f689378d81cc485.png)

2.  Place it into second do block，and change 0 into 200. Then drag
    block![](media/0666de41b762d6412c60691a94b87adf.png)into second else block.

![](media/bbd4ffe68291ea214aeef101345ccbf9.png)

Complete Program：

![](media/af0c98a994fceb3ecb18ce0ed1a8f1dc.png)

1.  **Test Result**

Upload code on the development board, plug in power and turn on the switch of
smart car. The smart turtle car will walk along the black line.

### Project 11: Ultrasonic Follow Robot

![](media/c0304f731522e9765457cc777c43bd4c.jpeg)

**(1) Description**

In this project, we detect the distance value of the obstacle to drive two
motors so as to make robot car move and 8\*8 dot matrix show smile face pattern.

The specific logic of ultrasonic follow robot car is as shown below:

| Detection  | Measured distance of front obstacles | distance（unit：cm） |
|------------|--------------------------------------|----------------------|
| Condition  | Distance＜8                          |                      |
| Status     | Go back（set PWM to 100）            |                      |
| Condition  | distance≥8 and distance＜13          |                      |
| Status     | Stop                                 |                      |
| Condition  | distance≥13 and distance＜35         |                      |
| Status     | Go front（set PWM to 100）           |                      |
| Condition  | distance≥35                          |                      |
| Status     | stop                                 |                      |

**(2) Flow Chart**

![](media/aa7242572f1a32ac056ff6e284a770f8.png)

 (3) Connection Diagram

![](media/235e2441d6c51226965cac061812a211.png)

![](media/a9d6191614aad4136b8ed28d56304601.png)

**(4) Test Code**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                              | File Name                         |
|-----------|--------------------------------------------------------------------|-----------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_11_Ultrasonic Follow Robot | lesson_11_Ultrasonic Follow Robot |

You could edit code step by step as follows:

1.  Enter “Serial Port”to move
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Go to“Variables”to move
    block![](media/6f172be17940bbd0c635924742208b16.png)into
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，enter“Math”to drag
    block![](media/6b5857774b87b36258be2b8a48752627.png)into
    block![](media/6f172be17940bbd0c635924742208b16.png)，and change item into
    distance. ![](media/ba047c87610d3294e9cd0d38273f2835.png)

2.  Click“Variables”to move out
    block![](media/26fc7926b78a600dee26d9b92996692f.png) ，

3.  Enter “robot”→“4wd-SmartCar”→![](media/434a2bcce0a186ab0f83586d1c9c274c.png)

4.  ![](media/9e9e209a49888af85955db3019817a1c.png).

5.  Click“Serial Port”to move out
    block![](media/6c6c8ecff207053dc9950978c0939a72.png)，

6.  Enter“Variables”to drag
    out![](media/ef2bdca85646a3887e79d2f82bdb1d62.png)into
    block![](media/6c6c8ecff207053dc9950978c0939a72.png).

![](media/1b215d1987d5fdf606fd1641331a4c79.png)

1.  Click “robot”→“4wd-SmartCar”→![](media/f59dc04bbbef32ec694d0d85607f6195.png)

2.  Place it into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block，and
    change 0 into 90. ![](media/24b5618811b32010c93faf31bb99cc2e.png)

3.  Click “Control” to move out
    block![](media/d0582e0ce7715347855beb46f30947cd.png)appears,
    drag ![](media/8ea2bafa58f42edf0c11e9e2a3f5bc41.png)into
    block![](media/23d14c6bea2dbc6dce97e3b22ee8adcb.png)for 2 times and move
    ![](media/9bc8c8a6de8c36f6f62e3efb6da47926.png) into if block, then the
    block![](media/f1eea600de88c95aa2ef0ae8344c2550.png)is produced.

1.  Enter“Logic”to move block
    ![](media/ba4beab2225dda3e12dc06a6f193731f.png)into if block

2.  Go to“Variables”to drag
    block![](media/ef2bdca85646a3887e79d2f82bdb1d62.png)into left box of “=”

3.  Click “Math”to move out block
    ![](media/0171c9b9d68df2b854ebded805ca3371.png)into right box of “=”, change
    0 into 8, and “=”into“\<”.

![](media/4ff78d3d73e3f91e43bf65835c857aa7.png)

1.  Enter “robot”→”4wd-SmartCar”→![](media/f7be88d1c665569ea9f064ad68b50ecd.png)

2.  Leave it into the first do block and set to 100
    ![](media/aa0497fd522a4602c5594ed02da324eb.png)

3.  Go to“Logic”to move block
    ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png)into else if block.

4.  Replicate![](media/b4e0331e4c67bd18e039faa208d2048a.png)block twice and
    place them into both side of “and” block.

5.  Edit the code string as follows:

![](media/42d23b5fd94d02585a4bdd86bd5f25bb.png)

1.  Click
    “robot”→“4wd-SmartCar”→![](media/f31e2b424edd5a0bd419d031cb644f84.png)，

2.  Leave it into the second do block

![](media/feafb961fe6130cfa0922d89010c317d.png)

1.  Copy block![](media/0676dd83f5176fbd3dea83e5736dae61.png) and
    ![](media/f31e2b424edd5a0bd419d031cb644f84.png) once and place them behind
    the second“else if”block and else block.

1.  Click“4wd-SmartCar”to move out
    block![](media/ce6c0e2f4dc23e1d7dbcb7b5b18e416c.png)and leave it into the
    third do block and set to 100.

2.  Set code string as follows: ![](media/3148e5c23e63ed132e75996f8325ca30.png)

Complete Program：

![](media/556ef210d92f03b5f51e4a28c6e23a45.png)

**(5) Test Result**

Upload the code to the development board, plug in power and turn on the switch
of smart car. Robot car will follow the obstacle to move(robot car only moves
forward and backward).

### Project 12: Ultrasonic Avoiding Robot

![](media/d1dbb527157f94f736ee0c56087a48bb.jpeg)

 Description

We combine the hardware knowledge -- LED matrix, motor drive, ultrasonic and
servo, to build an ultrasonic avoiding robot!

In the circuit process, we can make use of ultrasonic sensor to detect the
distance between robot and front obstacles. Control the motor rotating by
measured data, thus control the robot motion and show the running state by dot
matrix.

The ultrasonic avoiding capability is almost the same as the ultrasonic
following function. We only need to change the source code.

The specific logic of ultrasonic avoiding smart car is as shown below:

| Initial Setup | 8x16 LED Matrix Clear                                      |                                         |                                               |
|---------------|------------------------------------------------------------|-----------------------------------------|-----------------------------------------------|
|               | Set servo to 90°                                           |                                         |                                               |
| Loop program  | measured distance of front obstacle：distance （unit: cm） |                                         |                                               |
|               | Condition 1                                                | State                                   |                                               |
|               |  0\<distance＜10                                           | Smart car stops                         |                                               |
|               |                                                            | 8x16 LED matrix shows “stop” pattern    |                                               |
|               |                                                            | Set the servo to 180°                   | measured distance of obstacle：a1（unit：cm） |
|               |                                                            | Set the servo to 0°                     | measured distance of obstacle：a2（unit：cm） |
|               |                                                            | Condition 2                             | state                                         |
|               |                                                            | a1＜a2                                  | rotate to right（PWM set to 200）             |
|               |                                                            |                                         | 8x16 LED matrix shows “rightward” pattern     |
|               |                                                            |                                         | Set the servo to 90°                          |
|               |                                                            | a1≥a2                                   | rotate to left（PWM set to 200）              |
|               |                                                            |                                         | 8x16 LED matrix shows “leftward” pattern      |
|               |                                                            |                                         | Set servo to 90°                              |
|               | distance≥10                                                | 8x16 LED matrix shows “forward” pattern |                                               |
|               |                                                            | Go front（PWM set to 150）              |                                               |

 Flow Chart

![](media/6e89a0cd4c4613ce509d7ecfd3b65bca.jpeg)

1.  **Wiring Diagram**

![](media/872bd93e0b6abf730063dc00c91edb55.png)

1.  **Test Code**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                                | File Name                           |
|-----------|----------------------------------------------------------------------|-------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_12_Ultrasonic Avoiding Robot | lesson_12_Ultrasonic Avoiding Robot |

You could edit code step by step as follows:

1.  Go to “Control” to find out
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

2.  Click “Variables” to move out
    block![](media/1ae07a66a021f66804a4db9141d3e6f5.png)and duplicate it twice.

(3) Separately change item into distance, a1 and a2.

(4) Go to “Math” to move out
block![](media/0171c9b9d68df2b854ebded805ca3371.png)and copy it for three times

(5) Edit the following code string:

![](media/246ca80b81e5ff64c2bc7ec71dff29b9.png)

(6) Enter “robot” → “4wd-SmartCar”
→![](media/f59dc04bbbef32ec694d0d85607f6195.png)

(7) Leave it into block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，change 0
into 90.

(8) Click“Control”to move
block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)into
![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block and delay in 300ms.

![](media/de276bacdf63619cac6c0844485ea473.png)

1.  Click“robot”→“4wd-SmartCar”→![](media/b2c572c0837a53551acfb9988e07ade5.png)

2.  Keep them
    into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block，click“↑”to
    select“clear”.

![](media/d846f0f157d9cb57bc379c736cb86349.png)

1.  Go to“Variables”to move out
    block![](media/ed5d8138a4f3a58a300732d91d1b342b.png)，then
    enter“4wd-SmartCar”to get
    block![](media/7264737ff4fc4737eef362a79d3c938a.png)and combine it with
    block![](media/ed5d8138a4f3a58a300732d91d1b342b.png).

![](media/0023d224a34318c53787befa922999c8.png)

1.  Click“Control”to move out
    block![](media/fad4c0aa5b58d92bf0269099face7f63.png),
    tap![](media/6b0bc0755ffe368004c9ad0f73a1b573.png)，and
    move![](media/4df0c9deaa8baeddd3a9047381c333bb.png)block
    into![](media/ec67799ae6a24d7f0bc062e6efad352e.png)to produce
    bloc![](media/1ecffbd539806a583d03347c7aa5a77a.png).

2.  Go to “Logic” to get ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png) and
    ![](media/ba4beab2225dda3e12dc06a6f193731f.png).

3.  Place ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png)into if block，and
    leave ![](media/ba4beab2225dda3e12dc06a6f193731f.png) in the left box of
    block![](media/f1a063334f9c7f82ff4903fa84b9eebc.png).

4.  Enter “Variables” to get
    block![](media/63bd47f41b8c51c393507f0dee65fe46.png) and keep it at left box
    of block “=”.

5.  Go to “Math” to move out![](media/0171c9b9d68df2b854ebded805ca3371.png)into
    right box of block “=”, change “=” into“\>”. Replicate
    block![](media/c8fb57a00680cf02b775515a2045de50.png)once and set code string
    as follows:

![](media/18617fdad5a3a0224d6d95b437fb5b5e.png)

1.  Click
    “robot”→”4wd-SmartCar”→![](media/b2c572c0837a53551acfb9988e07ade5.png).

2.  Leave them into block![](media/d3e8e54c9312eca60d550a2f274f47c4.png)，and
    click“↑”to set“STOP”，then click“Control”to move out
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)and delay in 100ms.

3.  Place it below

![](media/c3647719c417503e9b79233bd12dc977.png)

1.  Go to “robot” → “4wd-SmartCar”
    →![](media/f59dc04bbbef32ec694d0d85607f6195.png)

2.  Place it into “do” block，change 0 into 180，

3.  Click“Control”to move out
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)and delay in 500ms.

4.  Keep it into do block.

![](media/fb6b6f2e8d68ae8ce8289c5a6273eae1.png)

1.  Replicate code ![](media/0023d224a34318c53787befa922999c8.png)again and
    change distance into a1，then place it into do block

2.  Copy block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)and delay in 100ms.

![](media/2499d982ae525bf70809784814a9fb6e.png)

1.  Replicate![](media/54450943dd120c099811676f6fbc580a.png)once and alter 180
    into 0，a1 into a2.

2.  Finish the code as follows:

![](media/c3b8f63234bcdea6298e8f6173fd9d28.png)

1.  Click “Control” and drag it into
    block![](media/6b0bc0755ffe368004c9ad0f73a1b573.png)
    and
    move![](media/ec67799ae6a24d7f0bc062e6efad352e.png)then
    we get block![](media/1ecffbd539806a583d03347c7aa5a77a.png).

2.  Go to “Logic” to move out
    block![](media/6b2e4153feb0792dfea522a67a56d6e4.png)into if block，then
    click“Variables”to drag
    block![](media/7a0dd556ca2e152149b8dbe4b449cfdf.png)into left box
    of“=”block，and move
    block![](media/941aa2a4273ce42604287b3a5247f8a9.png)into right box
    of“=”，and change“=”into“＞”.

3.  Click
    “robot”→”4wd-SmartCar”→![](media/f59dc04bbbef32ec694d0d85607f6195.png)

4.  Place them into ![](media/76a220fa6df98cb520f22425202630de.png)block，set to
    200，click “↑” to select “←”.

5.  Change 0 into 90，and drag
    ![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)from “Control” into do
    block，delay in 300ms. ![](media/b761e6c3bb4ebb220757ba8a868d92b5.png)

6.  Drag block![](media/c778c295747ae90946c6b9c9ad095a7f.png),
    ![](media/f59dc04bbbef32ec694d0d85607f6195.png)from“4wd-SmartCar”

7.  Place them into block![](media/76a220fa6df98cb520f22425202630de.png)，set to
    200，click “↑” to choose “→”

8.  And set servo to 90 and move ![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)
    from“Control” and delay in 300ms.

9.  Finish the code as follows:

![](media/b767888450c7d30b09cf44c8df3e2a06.png)

1.  Click
    “robot”→”4wd-SmartCar”→![](media/0534e022a92753fcc035df8629552b66.png)

2.  Place them into ![](media/d3e8e54c9312eca60d550a2f274f47c4.png)，and set to
    150.

![](media/34164668faecf23067349b697e34d112.png)

Complete Program：

![](media/510df7d559334caacac641493236e02a.png)


1.  **Test Result**

After uploading the code on the keyestudio V4.0 board, wire according to
connection diagram. After the DIP switch is dialed to the right end, the smart
car can automatically avoid obstacles.

### Project 13: IR Remote Control Robot

![](media/c2a1fc96d1e5412db2ed7beb2530bd6b.jpeg)

1.  **Description**

We combine the hardware knowledge -- sensors, motor drive, and IR receiver, to
build an infrared remote control robot car!

In the IR receiver section, we’ve listed out each key value of remote control.
In this circuit design, we can set the key value in the code to navigate the
robot car movement. The corresponding state pattern is displayed on the 8X16 LED
matrix.

 Flow Chart

The specific logic of infrared remote control robot car is shown below:

| Initial setup                                    | 8X16 LED matrix Clear |                                      |
|--------------------------------------------------|-----------------------|--------------------------------------|
| Remote control                                   | Key Value             | Key state                            |
| ![](media/b11dc5ffa6cccebc6088e5d557d76daf.png)  | FF629D                | Go front（PWM set to 100）           |
|                                                  |                       | 8\*8 LED matrix shows front icon     |
| ![](media/ae8110034aacb083151cfd882ee599ba.png)  | FFA857                | Back（PWM set to 100）               |
|                                                  |                       | 8\*8 LED matrix shows back icon      |
| ![](media/bce9cba2c6d2465fbcce570ad4210eba.png)  | FF22DD                | Rotate to left（PWM set to 200）     |
|                                                  |                       | 8X16 LED matrix shows leftward icon  |
| ![](media/ad907a618af86f30d52986bbbd57ba76.png)  | FFC23D                | Rotate to right（PWM set to 200）    |
|                                                  |                       | 8X16 LED matrix shows rightward icon |
|  ![](media/9716a4ed61a4064d2f47a7b73eccaf87.png) |  FF02FD               | Stop                                 |
|                                                  |                       | 8X16 LED matrix shows “STOP”         |

Based on the circuit design, we can start building our own remote control robot.

![](media/fd56d635be98a36d548896f7851b4789.png)

1.  **Connection Diagram**

![](media/35576482e0e8ceeaed124839f1d32e65.png)

1.  **Test Code：**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                               | File Name                          |
|-----------|---------------------------------------------------------------------|------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_13_IR Remote Control Robot  | lesson_13_IR Remote Control Robot  |

You could edit code step by step as follows:

1.  Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Enter “Serial Port” to move
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Click“robot”→”4wd-SmartCar”→![](media/2472f89177db3823b8d21af65290f403.png)

(4) Leave them into block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，click
“↑” to select“clear”.

![](media/2bc14fcd7cbe16c4dee7fef0aedcb487.png)

(5) Copy![](media/a730db9abe218663bfaf9e45eafaca36.png)once and place it
into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block，and click“clear”to
choose“V”.

![](media/ea75ffc49daf07f65255730e4367c8c0.png)

(6) Enter
“robot”→“4wd-SmartCar”→![](media/520be955145074f2d990d7d5ea4e3100.png)

Click“Serial Port”to move
block![](media/520be955145074f2d990d7d5ea4e3100.png)block，

(7) Click“Variables”to drag out
block![](media/b358f4a37c9c416e6b197b2a9a7e3a30.png)into
block![](media/6b5c3de215ccbc2b3da6d9b8948ba5e1.png)

![](media/725ab9bc40bb36a1b2348df1a1434ae2.png)

(8) Click “Control” to move out
block![](media/46aa61c88286ca9bc1a743a1a5b0e610.png)appears,
drag ![](media/fe01b3e71a9cbf9b66658d604751bbc6.png)into
block![](media/a6b2092c13f6f0abbb7110938d98fba5.png)for 5 times，the
block![](media/f67c99f4f1a290e897f01b28ee2f6973.png)is produced.

(9) Enter“Variables”to drag
block![](media/b358f4a37c9c416e6b197b2a9a7e3a30.png)into“switch”block.

![](media/df27040aff0d551bf89f9897b86c3abc.png)

(10) Click“Math” to move
block![](media/5bd92a20a818aeb5cec4e35ba0f32480.png)into the first case， change
a into 0xFF629D；then go to
”robot”→“4wd-SmartCar”→![](media/e38f082ec2ac24cec831d88357eb599b.png)

Set to 200 and edit the code string as follows:

![](media/cfa69e1183643203a839c4ad6c892b7f.png)

(11) Click “Math” to drag out
block![](media/5bd92a20a818aeb5cec4e35ba0f32480.png)into the second case，and
change a into 0xFFA857；

(12) Go to“4wd-SmartCar”to move out
block![](media/038e72b76a9885762c670b2a3bce454d.png)and
![](media/e38f082ec2ac24cec831d88357eb599b.png)

(13) Set to 200 and click “↑” to select “↓”

(14) Finish the code string as follows:

![](media/eac95b19eaabacc5a01ef82de719949e.png)

(15) Click “Math” to drag
block![](media/5bd92a20a818aeb5cec4e35ba0f32480.png)into the third case， and
change a into 0xFF22DD；enter
“Robot”→”4wd-SmartCar”
![](media/e38f082ec2ac24cec831d88357eb599b.png)

1.  Place them into the third case, set to 200 and click “↑” to choose “←”

![](media/2d473189bf2ecb14ea53907af028015c.png)

1.  Click “Math” to move
    block![](media/5bd92a20a818aeb5cec4e35ba0f32480.png)into the fourth
    case，and change a into 0xFFC23D；

2.  Go
    to“robot”→“4wd-SmartCar”→![](media/e38f082ec2ac24cec831d88357eb599b.png)

3.  Leave them into the fourth “case”，and set to 200. Click“↑”to select“→”.

![](media/fdeaa636d80ebe2e8c6a0dbcbe43b766.png)

1.  Go to “Math” to move
    block![](media/5bd92a20a818aeb5cec4e35ba0f32480.png)into the fifth “case”,
    and alter a into 0xFF02FD；

2.  Click“robot”→”4wd-SmartCar”→![](media/e38f082ec2ac24cec831d88357eb599b.png)

3.  Keep them into the fifth “case”block，and click “↑” to set “STOP” .

![](media/9422caa366e624b69edff8866df7d839.png)

Complete Program：

![](media/ac070bc4ac20826dbf7402d07e8a440e.png)


1.  **Test Result：**

After uploading the code successfully on the keyestudio V4.0 board, wire
according to the connection diagram, after DIP switch is dialed to the right
end, we can use the infrared remote control to control the smart car movement.
At the same time, the 8X16 LED light board displays the corresponding state
pattern.

### Project 14: Bluetooth Remote Control

![](media/4cde06efb2694232042823050f425225.png)

  **Description**

We’ve learned the basic knowledge of Bluetooth, in this lesson, we will make a
Bluetooth remote smart car. In the experiment, we default the HM-10 Bluetooth
module as a Slave and the cellphone as a Host.

keyes BT car is an APP rolled out by keyestudio team. You could control the
robot car by it readily.

Special Note: Before uploading the test code, you need to remove the Bluetooth
module. Otherwise the test code will fail to upload. After the code is uploaded
successful, then reconnect the Bluetooth module.

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                            | File Name                        |
|-----------|------------------------------------------------------------------|----------------------------------|
| MIX File  | ../tutorialforMixly/MixlyCode/lesson_14_Bluetooth Remote Control | lesson_14.1_Bluetooth Reads Data |

You could edit code step by step as follows:

(1) Go to“Control”Module to find out
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Enter“Serial Port”to move
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)
![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Enter “robot”→ “4wd-SmartCar”
→![](media/b71b03d2a77d2a1bb7e0bd5e3b99d960.png)

(4) Click“Serial Port” to find out
block![](media/e833ec02bd6816cef1f10cb7ed2709e4.png)and place it into
block![](media/b71b03d2a77d2a1bb7e0bd5e3b99d960.png)

(5) Click “Variables”to move out
block![](media/9fc46a764fa2d5eca94f1b0d2e70f79d.png)into
block![](media/e833ec02bd6816cef1f10cb7ed2709e4.png)
![](media/9255b337aaa8f6dbfc2e25e227bc9fce.png)

Complete Program：

![](media/db56beceb9af748fbd567dc6e5e45c8a.png)


Upload test code on V4.0 development board and insert the Bluetooth module. Then
we need to download APP.

For iOS system

**Note: Allow APP to access “location” in settings of your cellphone when
connecting to Bluetooth module. Otherwise, Bluetooth may not be connected.**

Search keyes BT car in App store

![](media/88e6e4c36ef199aa72000a457d3ee640.png)

After installation, enter its interface.

![](media/b88387f98039ed5c16f9669f7ed5dda7.png)

Click “Connect”to search and pair Bluetooth. After connecting well, click
![](media/eed0b9b238bf7d23f89dbf963d7d0fbc.png)to enter the main page of 4WD
smart car.

![](media/d60ef62ef01e38d30842dabab26b0340.png)

**For Android System**

Enter Google play store to search keyes 4wd

![](media/66cce2fc4a3ae3f88db1b56a5b341fac.png)

Its interface is shown below:

![](media/b28d7bcf6455edc6e8cc110965696e32.png)

Click on
APP![](media/1f33d8657fe881d78208e9936f2acc1e.png)icon，searching
the Bluetooth.

![](media/fb1c6ba889c1208b5438547ad3dcfbc3.png)

Click to connect the Bluetooth. HMSoft connected, Bluetooth LED will turn on
normally.

![](media/44cc8687e73f3be9d6da414bcffe55f0.png)

After successful connection, press the button of the Bluetooth APP, and the
corresponding characters are displayed in the serial monitor. For more details,
as shown below.

Below is app of 4WD robot car interface and we have listed out what function of
each key does

| Key                                             | Function|                                                          |
|-------------------------------------------------|---------|----------------------------------------------------------|
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | match with connection HM-10 Bluetooth module|                      |
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | disconnect Bluetooth|                                                          |
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | Control character| Function                                                 |
|                                                 | Press: F Release: S| Press the button, robot car goes front; release to stop  |
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | Press: L Release: S| Press the button, robot car turns left; release to stop  |
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | Press: R Release: S| Press the button, robot car turns right; release to stop |
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | Press: B Release: S| Press the button, robot car goes back; release to stop   |
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | Click to start the mobile gravity sensing; click again to exit |              |
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | Click to send “X” , then click “S”| Start line tracking function; click Stop to exit         |
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | Click to send “Y” , then click “S”| Start ultrasonic avoiding function; click Stop to exit   |
| ![](media/3b4076135ebca73f47c4ff8d7785dc17.png) | Click to send “U” , then click “S”| Start Ultrasonic follow function; click Stop to exit     |

1.  **Flow Chart**

After designing the smart car according to the previous ideas, we need to start
making smart cars according to the design ideas. We need to design the
corresponding wiring, test code, and then wire the upload code to run, to ensure
that the smart car can achieve the desired function.

![](media/599ed500a72310376de208f18c4d5295.png)

1.  **Hook-up Diagram**

![](media/aaaa232ba6df8db5bcbfcc7077c75a31.png)

1.  **Test Code**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                               | File Name                               |
|-----------|---------------------------------------------------------------------|-----------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_14_Bluetooth Remote Control | lesson_14.2_Bluetooth Control Smart Car |

You could edit code step by step as follows:

(1) Click “Control” to find out
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

(2) Enter “Serial Port” to move
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)
![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3)
Click“Robot”→“4wd-SmartCar”→![](media/8a63c3d365b984ef4289f893823299a3.png)

(4) Leave them into block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，and
click“↑”to choose“clear”.

![](media/5bd25c1f5088ef752de8eeb12be1b508.png)

(5) Copy block![](media/048beb76091e79f136b06a7b592b14c7.png)once and keep it
into ![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，then click“clear”to
select“V”.

![](media/40563b5d5669c6e9f6255194debf1365.png)

1.  Replicate “robot”→
    “4wd-SmartCar”→![](media/b71b03d2a77d2a1bb7e0bd5e3b99d960.png).

(7) Enter“Serial Port”to move
block![](media/e833ec02bd6816cef1f10cb7ed2709e4.png)into
block![](media/b71b03d2a77d2a1bb7e0bd5e3b99d960.png)；

Go to “Variables” to move out
block![](media/e833ec02bd6816cef1f10cb7ed2709e4.png)block.

![](media/d786efb92827751f57c9866ca466c84b.png)

(8) Click “Control” to move out
block![](media/46aa61c88286ca9bc1a743a1a5b0e610.png)appears,
drag ![](media/fe01b3e71a9cbf9b66658d604751bbc6.png)into
block![](media/a6b2092c13f6f0abbb7110938d98fba5.png)for 5 times，the
block![](media/f67c99f4f1a290e897f01b28ee2f6973.png)is produced

(9) Go to “Variables” to drag
block![](media/f96213ca92ee0843d9d1c42632bb1502.png)into“switch”block.

![](media/27765eec4eb85a5717292420038e352d.png)

1.  Click “Text” to move out![](media/ebfc14e6725fc11a7f791b043aa53580.png)and
    copy it for 4 times. Respectively set to F, B, L, R and S.

2.  Enter “4wd-SmartCar”to move out
    ![](media/8a63c3d365b984ef4289f893823299a3.png)
    ![](media/19b0bb9edc5f5c0f970ed02b80cc687e.png),
    ![](media/00477a96077aeae60c269283ed744b74.png) and
    ![](media/baa63c6f97a7bbb7c825a1bfbdaa099f.png). Set to 200.

3.  Replicate ![](media/8a63c3d365b984ef4289f893823299a3.png)block for four
    times and separately select “↑”, “↓”, “←”, “→”and STOP.

4.  Place the above blocks into “case” block and edit the whole code string as
    follows:

![](media/01075ebf98efec9e66e8c0db5c874085.png)

1.  Click“Text”to move ![](media/4fb9842005f1974e3adf88aa015d08d3.png)into the
    fifth case block；

2.  Go
    to“robot”→“4wd-SmartCar”→![](media/8a63c3d365b984ef4289f893823299a3.png)

3.  Place them into the fifth case block，click“↑”to select“STOP”.

![](media/a1bfe68eea84d31793582ce1d9351651.png)

Complete Program：

![](media/d6ddbeb011c57ac771d8c936de01a1ab.png)

  **Test Result**

Upload the code on the keyestudio V4.0 board successfully. Stack the expansion
board on the keyestudio V4.0 board and wire it according to the connection
diagram. After power-on, the DIP switch will be dialed to the “ON” end. After
connecting Bluetooth successfully, we can use the mobile APP to control the
smart car to move.


### Assembly Guide

**Note: Peel the plastic film off the board first when installing the smart car.
To be honest, we never intend to send wood to you.**

  **Mount the Bottom PCB**

-   Prepare the parts as follows:

Gear Motor \*4

Fixed Part \*4

M3 Nickel Plated Nut \*10

M3\*6mm Round Head Screw \*14

4WD Bottom PCB \*1

Tracking Sensor \*1

Wheel \*4

5P Dupont Wire \*1

M3\*40mm Copper Pillar\*6

M3\*30m Round Head Screw \*8

M3\*8mm Round Head Screw \*2

![](media/e57feed72a66b4490674f77ec2c35a69.png)

![](media/7a24e3bbeacad6b81e8cb8f06f4fccf5.png)

![](media/322632dc1b2b68141ce0032999f287ed.jpeg)

  **Install Dot Matrix**

-   Prepare the parts as follows:

8X16 LED Panel \*1

4WD Baffle

4P Wire \*1

M2\*8mm Round Head Screw \*4

M2 Nut \*4

![](media/c8bf3b074f441f58683384fe4695be97.png)

  **Install the Plastic Platform of Servo**

-   Prepare the parts as follows:

Servo \*1

M2\*4 Screw \*1

Black Cable Tie\*2

Ultrasonic Sensor\*1

Black Plastic Platform \*1

M1.2\*4 Tapping Screw \*4

M2\*8 Tapping Screw \*2

![](media/72e9b9408e449506fc76a2a8a6a3890e.png)

![](media/6246bf8c9de981303761b60fe5dfb44b.png)

![](media/8040617db413660fce1fa198e9d55fb6.png)

  **Assemble Battery Holder**

-   Prepare the parts as follows:

Top PCB \*1

M3 Nut \*3

Motor Driver Board \*1

Control Board \*1

IR Receiver Module \*1

M3\*10mm Copper Pillar \*8

M3\*8mm Round Head Screw \*1

M3\*6mm Round Head Screw \*16

M3\*10mm Flat Screw \*2

6 AA Battery Holder \*1

![](media/c62c0c411242b1fd2e91e09251a41d87.png)

![](media/f13c77fc3f962cdac2cc3a4576b68953.png)

  **Mount the Top PCB**

-   Prepare the parts as follows:

Bluetooth Module \*1

M3\*6MM Round Head Screw \*6

Jumper Cap\*8

![](media/84a90512abefa00026e56aed45dc2634.png)

![](media/e8938aabe40608b0758c5f9a486a2dd4.png)

![](media/b2a0e51863d03a2a33942744d435c682.jpeg)

  **Hook-up Guide**

![](media/1feb6b2d1e8980dfcaede0a033a8975e.png)

![](media/e822af8fafcef23ccc79d78e89788394.png)

![](media/5677eb49ccc74577bc9eb759c788bf85.jpeg)


### Project 15: Multi-purpose Bluetooth Robot

![](media/46414c9b978c52160b6a2cfb3a729114.jpeg)

**Description**

In previous projects, the robot car only performs single function, however, in
this lesson, we integrate all of function to control smart car via Bluetooth
control.

Here is a simple flow chart of multi-purpose robot car as for your reference.

**Flow Chart**

![](media/350df6f452683134aca3b5b1a1fcf576.jpeg)

**Hook-up Diagram**

![](media/b4a35161c5566190ca6d7c913175e8d7.png)

**Test Code**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                                    | File Name                               |
|-----------|--------------------------------------------------------------------------|-----------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_15_Multi-purpose Bluetooth Robot | lesson_15_Multi-purpose Bluetooth Robot |

Complete Program：

![](media/21b5001bfeddd5ca0d3c67685f3d1be3.png)(5)
**Test Result**

Upload the code on the keyestudio V4.0 board. Stack the expansion board on it
and wire them up according to the connection diagram. Plug in power and turn on
switch on robot car. After connecting to Bluetooth successfully, we could
control the smart car to move via App.

## 7. Resources

Wiki page: <https://wiki.keyestudio.com/Main_Page>

Official website: <https://keyestudio.com/>

Assembly Video Link: http://video.keyestudio.com/ks0470/
